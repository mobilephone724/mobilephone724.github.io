<!DOCTYPE html>
<head><meta charset="utf-8"></meta>
 <meta content="minimum-scale=1, initial-scale=1, width=device-width, shrink-to-fit=no" name="viewport"></meta>
 <link type="text/css" href="static/css/tabler-icons.min.css" rel="stylesheet"></link>
 <link type="text/css" href="static/css/style.css" rel="stylesheet"></link>
 <link type="text/css" href="static/css/custom.css" rel="stylesheet"></link>
 <link type="text/css" href="static/css/export.css" rel="stylesheet"></link>
 <link href="static/img/logo.png" type="image/png" rel="shortcut icon"></link>
 <link href="static/img/logo.png" sizes="192x192" rel="shortcut icon"></link>
 <link href="static/img/logo.png" rel="apple-touch-icon"></link>
 <meta name="apple-mobile-web-app-title"></meta>
 <meta name="apple-mobile-web-app-capable" content="yes"></meta>
 <meta name="apple-touch-fullscreen" content="yes"></meta>
 <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"></meta>
 <meta name="mobile-web-app-capable" content="yes"></meta>
 <meta property="og:title"></meta>
 <meta content="site" property="og:type"></meta>
  <meta content="static/img/logo.png" property="og:image"></meta>
 <meta property="og:description"></meta>
 <title></title>
 <meta property="og:site_name"></meta>
 <meta></meta>
</head>
 <body><div id="root"></div>
 <script>window.logseq_db="[logseq____&quot;~#datascript/DBlogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;~:schemalogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;~:ast/versionlogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:file/contentlogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/properties-text-valueslogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/aliaslogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;~:db/valueTypelogseq____&quot;,logseq____&quot;~:db.type/reflogseq____&quot;,logseq____&quot;~:db/cardinalitylogseq____&quot;,logseq____&quot;~:db.cardinality/manylogseq____&quot;],logseq____&quot;~:block/pre-block?logseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/uuidlogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;~:db/uniquelogseq____&quot;,logseq____&quot;~:db.unique/identitylogseq____&quot;],logseq____&quot;~:block/prioritylogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/propertieslogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/journal?logseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/namespacelogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^6logseq____&quot;,logseq____&quot;^7logseq____&quot;],logseq____&quot;~:block/updated-atlogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/repeated?logseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:db/typelogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:file/handlelogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/leftlogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^6logseq____&quot;,logseq____&quot;^7logseq____&quot;,logseq____&quot;~:db/indexlogseq____&quot;,true],logseq____&quot;~:block/refslogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^6logseq____&quot;,logseq____&quot;^7logseq____&quot;,logseq____&quot;^8logseq____&quot;,logseq____&quot;^9logseq____&quot;],logseq____&quot;~:block/scheduledlogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/properties-orderlogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/created-atlogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/deadlinelogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/collapsed?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^Glogseq____&quot;,true],logseq____&quot;~:block/journal-daylogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/formatlogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/tagslogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^6logseq____&quot;,logseq____&quot;^7logseq____&quot;,logseq____&quot;^8logseq____&quot;,logseq____&quot;^9logseq____&quot;],logseq____&quot;~:block/contentlogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:recent/pageslogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/macroslogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^6logseq____&quot;,logseq____&quot;^7logseq____&quot;,logseq____&quot;^8logseq____&quot;,logseq____&quot;^9logseq____&quot;],logseq____&quot;~:db/identlogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^logseq____&lt;logseq____&quot;,logseq____&quot;^=logseq____&quot;],logseq____&quot;~:block/path-refslogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^6logseq____&quot;,logseq____&quot;^7logseq____&quot;,logseq____&quot;^8logseq____&quot;,logseq____&quot;^9logseq____&quot;],logseq____&quot;~:block/parentlogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^6logseq____&quot;,logseq____&quot;^7logseq____&quot;,logseq____&quot;^Glogseq____&quot;,true],logseq____&quot;~:block/typelogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/pagelogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^6logseq____&quot;,logseq____&quot;^7logseq____&quot;,logseq____&quot;^Glogseq____&quot;,true],logseq____&quot;~:block/namelogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^logseq____&lt;logseq____&quot;,logseq____&quot;^=logseq____&quot;],logseq____&quot;~:file/pathlogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^logseq____&lt;logseq____&quot;,logseq____&quot;^=logseq____&quot;],logseq____&quot;~:block/filelogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^6logseq____&quot;,logseq____&quot;^7logseq____&quot;],logseq____&quot;~:block/markerlogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/original-namelogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^logseq____&lt;logseq____&quot;,logseq____&quot;^=logseq____&quot;],logseq____&quot;~:schema/versionlogseq____&quot;,[logseq____&quot;^ logseq____&quot;]],logseq____&quot;~:datomslogseq____&quot;,[logseq____&quot;~#listlogseq____&quot;,[[logseq____&quot;~#datascript/Datomlogseq____&quot;,[1,logseq____&quot;^12logseq____&quot;,2,536870913]],[logseq____&quot;^15logseq____&quot;,[2,logseq____&quot;^@logseq____&quot;,false,536870914]],[logseq____&quot;^15logseq____&quot;,[2,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;cardlogseq____&quot;,536870913]],[logseq____&quot;^15logseq____&quot;,[2,logseq____&quot;^11logseq____&quot;,logseq____&quot;cardlogseq____&quot;,536870913]],[logseq____&quot;^15logseq____&quot;,[2,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u686ed447-122f-4c70-84a7-8bdf6b6f56bdlogseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[3,logseq____&quot;^@logseq____&quot;,false,536870914]],[logseq____&quot;^15logseq____&quot;,[3,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;canceledlogseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[3,logseq____&quot;^11logseq____&quot;,logseq____&quot;CANCELEDlogseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[3,logseq____&quot;^;logseq____&quot;,logseq____&quot;~udc8d52a3-4299-4c09-b9b3-fa722982fa76logseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[4,logseq____&quot;^@logseq____&quot;,false,536870914]],[logseq____&quot;^15logseq____&quot;,[4,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;todologseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[4,logseq____&quot;^11logseq____&quot;,logseq____&quot;TODOlogseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[4,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-f7aa-471c-8d8c-95764fa1338blogseq____&quot;,536870923]],[logseq____&quot;^15logseq____&quot;,[5,logseq____&quot;^@logseq____&quot;,false,536870914]],[logseq____&quot;^15logseq____&quot;,[5,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;nowlogseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[5,logseq____&quot;^11logseq____&quot;,logseq____&quot;NOWlogseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[5,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u753aea8f-fe26-44b6-add7-7579ba02b764logseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[6,logseq____&quot;^@logseq____&quot;,false,536870914]],[logseq____&quot;^15logseq____&quot;,[6,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;laterlogseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[6,logseq____&quot;^11logseq____&quot;,logseq____&quot;LATERlogseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[6,logseq____&quot;^;logseq____&quot;,logseq____&quot;~ufb7fa6aa-a783-43a9-9d23-17f5f6a08549logseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[7,logseq____&quot;^@logseq____&quot;,false,536870914]],[logseq____&quot;^15logseq____&quot;,[7,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;donelogseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[7,logseq____&quot;^11logseq____&quot;,logseq____&quot;DONElogseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[7,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u26e2e9b0-f541-42cd-a5e9-4903d6dced49logseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[8,logseq____&quot;^@logseq____&quot;,false,536870914]],[logseq____&quot;^15logseq____&quot;,[8,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;doinglogseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[8,logseq____&quot;^11logseq____&quot;,logseq____&quot;DOINGlogseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[8,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u4831b8b4-b431-4527-8997-ca9d3fae9877logseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[9,logseq____&quot;^@logseq____&quot;,false,536870914]],[logseq____&quot;^15logseq____&quot;,[9,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;in-progresslogseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[9,logseq____&quot;^11logseq____&quot;,logseq____&quot;IN-PROGRESSlogseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[9,logseq____&quot;^;logseq____&quot;,logseq____&quot;~ucd1d6461-e10e-4740-8519-40c34a5c8162logseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[10,logseq____&quot;^@logseq____&quot;,false,536870914]],[logseq____&quot;^15logseq____&quot;,[10,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;clogseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[10,logseq____&quot;^11logseq____&quot;,logseq____&quot;Clogseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[10,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u2244dc96-540d-441f-9dac-f76874b0f21elogseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[11,logseq____&quot;^@logseq____&quot;,false,536870914]],[logseq____&quot;^15logseq____&quot;,[11,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;blogseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[11,logseq____&quot;^11logseq____&quot;,logseq____&quot;Blogseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[11,logseq____&quot;^;logseq____&quot;,logseq____&quot;~ud5fd3301-fc2a-4e82-acd8-d20d5d69b810logseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[12,logseq____&quot;^@logseq____&quot;,false,536870914]],[logseq____&quot;^15logseq____&quot;,[12,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;contentslogseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[12,logseq____&quot;^11logseq____&quot;,logseq____&quot;contentslogseq____&quot;,536870920]],[logseq____&quot;^15logseq____&quot;,[12,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b3-2919-426a-9c89-a4e97b925116logseq____&quot;,536870920]],[logseq____&quot;^15logseq____&quot;,[13,logseq____&quot;^@logseq____&quot;,false,536870914]],[logseq____&quot;^15logseq____&quot;,[13,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;waitinglogseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[13,logseq____&quot;^11logseq____&quot;,logseq____&quot;WAITINGlogseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[13,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u60ac6d36-57ab-44a9-868a-5829cec16ccdlogseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[14,logseq____&quot;^@logseq____&quot;,false,536870914]],[logseq____&quot;^15logseq____&quot;,[14,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;favoriteslogseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[14,logseq____&quot;^11logseq____&quot;,logseq____&quot;Favoriteslogseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[14,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u8440d6d1-317e-44f7-8bce-a04bb68c8e4elogseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[15,logseq____&quot;^@logseq____&quot;,false,536870914]],[logseq____&quot;^15logseq____&quot;,[15,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;alogseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[15,logseq____&quot;^11logseq____&quot;,logseq____&quot;Alogseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[15,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u19488ed0-7b97-4685-8e1e-03901192f192logseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[16,logseq____&quot;^@logseq____&quot;,false,536870914]],[logseq____&quot;^15logseq____&quot;,[16,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;cancelledlogseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[16,logseq____&quot;^11logseq____&quot;,logseq____&quot;CANCELLEDlogseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[16,logseq____&quot;^;logseq____&quot;,logseq____&quot;~ue47d0c17-f13d-47ed-85fd-d80ef617ce35logseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[17,logseq____&quot;^@logseq____&quot;,false,536870914]],[logseq____&quot;^15logseq____&quot;,[17,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;waitlogseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[17,logseq____&quot;^11logseq____&quot;,logseq____&quot;WAITlogseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[17,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u9165ff3a-b2c5-4977-8f4a-7d76e66e643dlogseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[19,logseq____&quot;^Klogseq____&quot;,1703171763950,536870915]],[logseq____&quot;^15logseq____&quot;,[19,logseq____&quot;^Nlogseq____&quot;,20231221,536870915]],[logseq____&quot;^15logseq____&quot;,[19,logseq____&quot;^@logseq____&quot;,true,536870915]],[logseq____&quot;^15logseq____&quot;,[19,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;dec 21st, 2023logseq____&quot;,536870915]],[logseq____&quot;^15logseq____&quot;,[19,logseq____&quot;^11logseq____&quot;,logseq____&quot;Dec 21st, 2023logseq____&quot;,536870915]],[logseq____&quot;^15logseq____&quot;,[19,logseq____&quot;^Blogseq____&quot;,1703171763950,536870915]],[logseq____&quot;^15logseq____&quot;,[19,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b3-9011-44f7-a812-4047045d89c2logseq____&quot;,536870915]],[logseq____&quot;^15logseq____&quot;,[20,logseq____&quot;^Klogseq____&quot;,1703171763946,536870915]],[logseq____&quot;^15logseq____&quot;,[20,logseq____&quot;^@logseq____&quot;,false,536870915]],[logseq____&quot;^15logseq____&quot;,[20,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;cloglogseq____&quot;,536870915]],[logseq____&quot;^15logseq____&quot;,[20,logseq____&quot;^11logseq____&quot;,logseq____&quot;cloglogseq____&quot;,536870915]],[logseq____&quot;^15logseq____&quot;,[20,logseq____&quot;^Blogseq____&quot;,1703171763946,536870915]],[logseq____&quot;^15logseq____&quot;,[20,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-6e75-4d2b-bdce-5243ab068288logseq____&quot;,536870922]],[logseq____&quot;^15logseq____&quot;,[21,logseq____&quot;^Klogseq____&quot;,1703171763947,536870915]],[logseq____&quot;^15logseq____&quot;,[21,logseq____&quot;^@logseq____&quot;,false,536870915]],[logseq____&quot;^15logseq____&quot;,[21,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;slrulogseq____&quot;,536870915]],[logseq____&quot;^15logseq____&quot;,[21,logseq____&quot;^11logseq____&quot;,logseq____&quot;slrulogseq____&quot;,536870915]],[logseq____&quot;^15logseq____&quot;,[21,logseq____&quot;^Blogseq____&quot;,1703171763947,536870915]],[logseq____&quot;^15logseq____&quot;,[21,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-dc0e-4c41-aff4-27ff6ad9bb2flogseq____&quot;,536870926]],[logseq____&quot;^15logseq____&quot;,[22,logseq____&quot;^Klogseq____&quot;,1703171763951,536870915]],[logseq____&quot;^15logseq____&quot;,[22,logseq____&quot;^@logseq____&quot;,false,536870915]],[logseq____&quot;^15logseq____&quot;,[22,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;multixactlogseq____&quot;,536870915]],[logseq____&quot;^15logseq____&quot;,[22,logseq____&quot;^11logseq____&quot;,logseq____&quot;multixactlogseq____&quot;,536870915]],[logseq____&quot;^15logseq____&quot;,[22,logseq____&quot;^Blogseq____&quot;,1703171763951,536870915]],[logseq____&quot;^15logseq____&quot;,[22,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-b62b-4402-833e-c518dba0b728logseq____&quot;,536870923]],[logseq____&quot;^15logseq____&quot;,[23,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;add some old chapters [[slru]], [[clog]]logseq____&quot;,536870915]],[logseq____&quot;^15logseq____&quot;,[23,logseq____&quot;^Ologseq____&quot;,logseq____&quot;~:markdownlogseq____&quot;,536870915]],[logseq____&quot;^15logseq____&quot;,[23,logseq____&quot;^Flogseq____&quot;,19,536870915]],[logseq____&quot;^15logseq____&quot;,[23,logseq____&quot;^Xlogseq____&quot;,19,536870915]],[logseq____&quot;^15logseq____&quot;,[23,logseq____&quot;^Vlogseq____&quot;,19,536870915]],[logseq____&quot;^15logseq____&quot;,[23,logseq____&quot;^Ulogseq____&quot;,19,536870915]],[logseq____&quot;^15logseq____&quot;,[23,logseq____&quot;^Ulogseq____&quot;,20,536870915]],[logseq____&quot;^15logseq____&quot;,[23,logseq____&quot;^Ulogseq____&quot;,21,536870915]],[logseq____&quot;^15logseq____&quot;,[23,logseq____&quot;^Hlogseq____&quot;,20,536870915]],[logseq____&quot;^15logseq____&quot;,[23,logseq____&quot;^Hlogseq____&quot;,21,536870915]],[logseq____&quot;^15logseq____&quot;,[23,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b3-4973-4e66-9272-61b1ed9c9f35logseq____&quot;,536870915]],[logseq____&quot;^15logseq____&quot;,[24,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;work on [[multixact]]logseq____&quot;,536870915]],[logseq____&quot;^15logseq____&quot;,[24,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870915]],[logseq____&quot;^15logseq____&quot;,[24,logseq____&quot;^Flogseq____&quot;,23,536870915]],[logseq____&quot;^15logseq____&quot;,[24,logseq____&quot;^Xlogseq____&quot;,19,536870915]],[logseq____&quot;^15logseq____&quot;,[24,logseq____&quot;^Vlogseq____&quot;,19,536870915]],[logseq____&quot;^15logseq____&quot;,[24,logseq____&quot;^Ulogseq____&quot;,19,536870915]],[logseq____&quot;^15logseq____&quot;,[24,logseq____&quot;^Ulogseq____&quot;,22,536870915]],[logseq____&quot;^15logseq____&quot;,[24,logseq____&quot;^Hlogseq____&quot;,22,536870915]],[logseq____&quot;^15logseq____&quot;,[24,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b3-e578-41ec-aa4a-2d34271f174alogseq____&quot;,536870915]],[logseq____&quot;^15logseq____&quot;,[26,logseq____&quot;^Klogseq____&quot;,1703171763975,536870916]],[logseq____&quot;^15logseq____&quot;,[26,logseq____&quot;^Nlogseq____&quot;,20231219,536870916]],[logseq____&quot;^15logseq____&quot;,[26,logseq____&quot;^@logseq____&quot;,true,536870916]],[logseq____&quot;^15logseq____&quot;,[26,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;dec 19th, 2023logseq____&quot;,536870916]],[logseq____&quot;^15logseq____&quot;,[26,logseq____&quot;^11logseq____&quot;,logseq____&quot;Dec 19th, 2023logseq____&quot;,536870916]],[logseq____&quot;^15logseq____&quot;,[26,logseq____&quot;^Blogseq____&quot;,1703171763975,536870916]],[logseq____&quot;^15logseq____&quot;,[26,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b3-7448-4f29-9be5-9b87957aff7blogseq____&quot;,536870916]],[logseq____&quot;^15logseq____&quot;,[27,logseq____&quot;^Klogseq____&quot;,1703171763973,536870916]],[logseq____&quot;^15logseq____&quot;,[27,logseq____&quot;^@logseq____&quot;,false,536870916]],[logseq____&quot;^15logseq____&quot;,[27,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;wal-insertlogseq____&quot;,536870916]],[logseq____&quot;^15logseq____&quot;,[27,logseq____&quot;^11logseq____&quot;,logseq____&quot;wal-insertlogseq____&quot;,536870916]],[logseq____&quot;^15logseq____&quot;,[27,logseq____&quot;^Blogseq____&quot;,1703171763973,536870916]],[logseq____&quot;^15logseq____&quot;,[27,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-1dbc-4a0e-aca5-e89a9fb63f01logseq____&quot;,536870929]],[logseq____&quot;^15logseq____&quot;,[28,logseq____&quot;^Klogseq____&quot;,1703171763976,536870916]],[logseq____&quot;^15logseq____&quot;,[28,logseq____&quot;^@logseq____&quot;,false,536870916]],[logseq____&quot;^15logseq____&quot;,[28,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;unlogged-tablelogseq____&quot;,536870916]],[logseq____&quot;^15logseq____&quot;,[28,logseq____&quot;^11logseq____&quot;,logseq____&quot;unlogged-tablelogseq____&quot;,536870916]],[logseq____&quot;^15logseq____&quot;,[28,logseq____&quot;^Blogseq____&quot;,1703171763976,536870916]],[logseq____&quot;^15logseq____&quot;,[28,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-82a2-485d-bae3-a6291dd13749logseq____&quot;,536870927]],[logseq____&quot;^15logseq____&quot;,[29,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[[wal-insert]]logseq____&quot;,536870916]],[logseq____&quot;^15logseq____&quot;,[29,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870916]],[logseq____&quot;^15logseq____&quot;,[29,logseq____&quot;^Flogseq____&quot;,26,536870916]],[logseq____&quot;^15logseq____&quot;,[29,logseq____&quot;^Xlogseq____&quot;,26,536870916]],[logseq____&quot;^15logseq____&quot;,[29,logseq____&quot;^Vlogseq____&quot;,26,536870916]],[logseq____&quot;^15logseq____&quot;,[29,logseq____&quot;^Ulogseq____&quot;,26,536870916]],[logseq____&quot;^15logseq____&quot;,[29,logseq____&quot;^Ulogseq____&quot;,27,536870916]],[logseq____&quot;^15logseq____&quot;,[29,logseq____&quot;^Hlogseq____&quot;,27,536870916]],[logseq____&quot;^15logseq____&quot;,[29,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b3-27a5-439d-8fc4-14be1395fee8logseq____&quot;,536870916]],[logseq____&quot;^15logseq____&quot;,[30,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[[unlogged-table]]logseq____&quot;,536870916]],[logseq____&quot;^15logseq____&quot;,[30,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870916]],[logseq____&quot;^15logseq____&quot;,[30,logseq____&quot;^Flogseq____&quot;,29,536870916]],[logseq____&quot;^15logseq____&quot;,[30,logseq____&quot;^Xlogseq____&quot;,26,536870916]],[logseq____&quot;^15logseq____&quot;,[30,logseq____&quot;^Vlogseq____&quot;,26,536870916]],[logseq____&quot;^15logseq____&quot;,[30,logseq____&quot;^Ulogseq____&quot;,26,536870916]],[logseq____&quot;^15logseq____&quot;,[30,logseq____&quot;^Ulogseq____&quot;,28,536870916]],[logseq____&quot;^15logseq____&quot;,[30,logseq____&quot;^Hlogseq____&quot;,28,536870916]],[logseq____&quot;^15logseq____&quot;,[30,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b3-80ab-4014-89f9-cc4d33557890logseq____&quot;,536870916]],[logseq____&quot;^15logseq____&quot;,[32,logseq____&quot;^Klogseq____&quot;,1703171763988,536870917]],[logseq____&quot;^15logseq____&quot;,[32,logseq____&quot;^Nlogseq____&quot;,20231218,536870917]],[logseq____&quot;^15logseq____&quot;,[32,logseq____&quot;^@logseq____&quot;,true,536870917]],[logseq____&quot;^15logseq____&quot;,[32,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;dec 18th, 2023logseq____&quot;,536870917]],[logseq____&quot;^15logseq____&quot;,[32,logseq____&quot;^11logseq____&quot;,logseq____&quot;Dec 18th, 2023logseq____&quot;,536870917]],[logseq____&quot;^15logseq____&quot;,[32,logseq____&quot;^Blogseq____&quot;,1703171763988,536870917]],[logseq____&quot;^15logseq____&quot;,[32,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b3-762d-414c-bfa6-31cbdcb7dbe3logseq____&quot;,536870917]],[logseq____&quot;^15logseq____&quot;,[33,logseq____&quot;^Klogseq____&quot;,1703171763987,536870917]],[logseq____&quot;^15logseq____&quot;,[33,logseq____&quot;^@logseq____&quot;,false,536870917]],[logseq____&quot;^15logseq____&quot;,[33,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;wal-structurelogseq____&quot;,536870917]],[logseq____&quot;^15logseq____&quot;,[33,logseq____&quot;^11logseq____&quot;,logseq____&quot;wal-structurelogseq____&quot;,536870917]],[logseq____&quot;^15logseq____&quot;,[33,logseq____&quot;^Blogseq____&quot;,1703171763987,536870917]],[logseq____&quot;^15logseq____&quot;,[33,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-8731-4569-be79-5d440b16013clogseq____&quot;,536870929]],[logseq____&quot;^15logseq____&quot;,[34,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[[wal-structure]]logseq____&quot;,536870917]],[logseq____&quot;^15logseq____&quot;,[34,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870917]],[logseq____&quot;^15logseq____&quot;,[34,logseq____&quot;^Flogseq____&quot;,32,536870917]],[logseq____&quot;^15logseq____&quot;,[34,logseq____&quot;^Xlogseq____&quot;,32,536870917]],[logseq____&quot;^15logseq____&quot;,[34,logseq____&quot;^Vlogseq____&quot;,32,536870917]],[logseq____&quot;^15logseq____&quot;,[34,logseq____&quot;^Ulogseq____&quot;,32,536870917]],[logseq____&quot;^15logseq____&quot;,[34,logseq____&quot;^Ulogseq____&quot;,33,536870917]],[logseq____&quot;^15logseq____&quot;,[34,logseq____&quot;^Hlogseq____&quot;,33,536870917]],[logseq____&quot;^15logseq____&quot;,[34,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b3-9f2d-4777-b55f-8c90e6eeca8dlogseq____&quot;,536870917]],[logseq____&quot;^15logseq____&quot;,[38,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&quot;,536870920]],[logseq____&quot;^15logseq____&quot;,[38,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870920]],[logseq____&quot;^15logseq____&quot;,[38,logseq____&quot;^Flogseq____&quot;,12,536870920]],[logseq____&quot;^15logseq____&quot;,[38,logseq____&quot;^Xlogseq____&quot;,12,536870920]],[logseq____&quot;^15logseq____&quot;,[38,logseq____&quot;^Vlogseq____&quot;,12,536870920]],[logseq____&quot;^15logseq____&quot;,[38,logseq____&quot;^Ulogseq____&quot;,12,536870920]],[logseq____&quot;^15logseq____&quot;,[38,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b3-65f1-4250-ad92-819f6fc3fb0dlogseq____&quot;,536870920]],[logseq____&quot;^15logseq____&quot;,[40,logseq____&quot;^Klogseq____&quot;,1703171764010,536870921]],[logseq____&quot;^15logseq____&quot;,[40,logseq____&quot;^@logseq____&quot;,false,536870921]],[logseq____&quot;^15logseq____&quot;,[40,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;blocklogseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[40,logseq____&quot;^11logseq____&quot;,logseq____&quot;blocklogseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[40,logseq____&quot;^Blogseq____&quot;,1703171764010,536870921]],[logseq____&quot;^15logseq____&quot;,[40,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-affa-4c6a-bd70-b35b4bcc47b8logseq____&quot;,536870929]],[logseq____&quot;^15logseq____&quot;,[41,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;Each data file (heap or index) is divided into `postgres` disk blocks, the blocks are numbered sequentially, 0 to 0xFFFFFFFE.logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[41,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[41,logseq____&quot;^Flogseq____&quot;,40,536870921]],[logseq____&quot;^15logseq____&quot;,[41,logseq____&quot;^Xlogseq____&quot;,40,536870921]],[logseq____&quot;^15logseq____&quot;,[41,logseq____&quot;^Vlogseq____&quot;,40,536870921]],[logseq____&quot;^15logseq____&quot;,[41,logseq____&quot;^Ulogseq____&quot;,40,536870921]],[logseq____&quot;^15logseq____&quot;,[41,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-73c1-4a26-a61f-1935051ff10dlogseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[42,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```C\\ntypedef uint32 BlockNumber;\\n#define InvalidBlockNumber\\t\\t((BlockNumber) 0xFFFFFFFF)\\n#define MaxBlockNumber\\t\\t\\t((BlockNumber) 0xFFFFFFFE)\\n```logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[42,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[42,logseq____&quot;^Flogseq____&quot;,41,536870921]],[logseq____&quot;^15logseq____&quot;,[42,logseq____&quot;^Xlogseq____&quot;,40,536870921]],[logseq____&quot;^15logseq____&quot;,[42,logseq____&quot;^Vlogseq____&quot;,40,536870921]],[logseq____&quot;^15logseq____&quot;,[42,logseq____&quot;^Ulogseq____&quot;,40,536870921]],[logseq____&quot;^15logseq____&quot;,[42,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-d814-43b8-984b-fef0f384c06alogseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[43,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;So one relation can have $32T$ storage sizelogseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[43,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[43,logseq____&quot;^Flogseq____&quot;,42,536870921]],[logseq____&quot;^15logseq____&quot;,[43,logseq____&quot;^Xlogseq____&quot;,40,536870921]],[logseq____&quot;^15logseq____&quot;,[43,logseq____&quot;^Vlogseq____&quot;,40,536870921]],[logseq____&quot;^15logseq____&quot;,[43,logseq____&quot;^Ulogseq____&quot;,40,536870921]],[logseq____&quot;^15logseq____&quot;,[43,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-0553-49cf-8249-bdead52a2608logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[44,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;$$4294967294( blocks) * 8(one block is 8K) / 1024 / 1024/ 1024 = 32T$$logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[44,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[44,logseq____&quot;^Flogseq____&quot;,43,536870921]],[logseq____&quot;^15logseq____&quot;,[44,logseq____&quot;^Xlogseq____&quot;,40,536870921]],[logseq____&quot;^15logseq____&quot;,[44,logseq____&quot;^Vlogseq____&quot;,43,536870921]],[logseq____&quot;^15logseq____&quot;,[44,logseq____&quot;^Ulogseq____&quot;,40,536870921]],[logseq____&quot;^15logseq____&quot;,[44,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-7924-402c-8432-00621094f49clogseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[45,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[45,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[45,logseq____&quot;^Flogseq____&quot;,43,536870921]],[logseq____&quot;^15logseq____&quot;,[45,logseq____&quot;^Xlogseq____&quot;,40,536870921]],[logseq____&quot;^15logseq____&quot;,[45,logseq____&quot;^Vlogseq____&quot;,40,536870921]],[logseq____&quot;^15logseq____&quot;,[45,logseq____&quot;^Ulogseq____&quot;,40,536870921]],[logseq____&quot;^15logseq____&quot;,[45,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-96f2-4c30-a50f-bbb920b3e008logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[47,logseq____&quot;^Klogseq____&quot;,1703171764103,536870922]],[logseq____&quot;^15logseq____&quot;,[47,logseq____&quot;^@logseq____&quot;,false,536870922]],[logseq____&quot;^15logseq____&quot;,[47,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;slru_implementlogseq____&quot;,536870922]],[logseq____&quot;^15logseq____&quot;,[47,logseq____&quot;^11logseq____&quot;,logseq____&quot;SLRU_IMPLEMENTlogseq____&quot;,536870922]],[logseq____&quot;^15logseq____&quot;,[47,logseq____&quot;^Blogseq____&quot;,1703171764103,536870922]],[logseq____&quot;^15logseq____&quot;,[47,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-8fd8-4446-8a53-a369188f6241logseq____&quot;,536870926]],[logseq____&quot;^15logseq____&quot;,[48,logseq____&quot;^Klogseq____&quot;,1703171764105,536870922]],[logseq____&quot;^15logseq____&quot;,[48,logseq____&quot;^@logseq____&quot;,false,536870922]],[logseq____&quot;^15logseq____&quot;,[48,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;wallogseq____&quot;,536870922]],[logseq____&quot;^15logseq____&quot;,[48,logseq____&quot;^11logseq____&quot;,logseq____&quot;wallogseq____&quot;,536870922]],[logseq____&quot;^15logseq____&quot;,[48,logseq____&quot;^Blogseq____&quot;,1703171764105,536870922]],[logseq____&quot;^15logseq____&quot;,[48,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-7408-482d-b14e-407a6514e5eelogseq____&quot;,536870929]],[logseq____&quot;^15logseq____&quot;,[49,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## Overview\\nThis chapter explains the content of `clog` #SLRU_IMPLEMENT\\n\\n`clog`(commit log), records the commit status of each transaction. The log exists both in memory mannaged by `slru` buffer and disk for durability. The commit status can be the four kinds below:\\n```C\\n#define TRANSACTION_STATUS_IN_PROGRESS\\t\\t0x00\\n#define TRANSACTION_STATUS_COMMITTED\\t\\t0x01\\n#define TRANSACTION_STATUS_ABORTED\\t\\t\\t0x02\\n#define TRANSACTION_STATUS_SUB_COMMITTED\\t0x03\\n```logseq____&quot;,536870922]],[logseq____&quot;^15logseq____&quot;,[49,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870922]],[logseq____&quot;^15logseq____&quot;,[49,logseq____&quot;^Flogseq____&quot;,20,536870922]],[logseq____&quot;^15logseq____&quot;,[49,logseq____&quot;^Xlogseq____&quot;,20,536870922]],[logseq____&quot;^15logseq____&quot;,[49,logseq____&quot;^Vlogseq____&quot;,20,536870922]],[logseq____&quot;^15logseq____&quot;,[49,logseq____&quot;^Ulogseq____&quot;,20,536870922]],[logseq____&quot;^15logseq____&quot;,[49,logseq____&quot;^Ulogseq____&quot;,47,536870922]],[logseq____&quot;^15logseq____&quot;,[49,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;~:headinglogseq____&quot;,2],536870922]],[logseq____&quot;^15logseq____&quot;,[49,logseq____&quot;^Jlogseq____&quot;,[],536870922]],[logseq____&quot;^15logseq____&quot;,[49,logseq____&quot;^Hlogseq____&quot;,47,536870922]],[logseq____&quot;^15logseq____&quot;,[49,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-f504-47a5-b38e-e8ad1032d3adlogseq____&quot;,536870922]],[logseq____&quot;^15logseq____&quot;,[50,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## In-Disk Representation\\nThinking that the commit status of each transaction composites an array `clog[]` and `clog[xid]` records the status, we can easily store the array to disk by the `slru`.\\n\\nThe status of one transaction needs two bits to represent:\\n```C\\n#define CLOG_BITS_PER_XACT\\t2\\n#define CLOG_XACTS_PER_BYTE 4\\n#define CLOG_XACTS_PER_PAGE (BLCKSZ * CLOG_XACTS_PER_BYTE)\\n#define CLOG_XACT_BITMASK\\t((1 logseq____&lt;logseq____&lt; CLOG_BITS_PER_XACT) - 1)\\n```\\n\\nSo we can get the xidlogseq____&apos;s index and offset in page and byte.\\n```C\\n#define TransactionIdToPage(xid)\\t((xid) / (TransactionId) CLOG_XACTS_PER_PAGE)\\n#define TransactionIdToPgIndex(xid) ((xid) % (TransactionId) CLOG_XACTS_PER_PAGE)\\n#define TransactionIdToByte(xid)\\t(TransactionIdToPgIndex(xid) / CLOG_XACTS_PER_BYTE)\\n#define TransactionIdToBIndex(xid)\\t((xid) % (TransactionId) CLOG_XACTS_PER_BYTE)\\n```\\n\\nThinking of that one slru segment contains 32 pages, so we name the clog file as `0000`(contains xid in [0, 32 * CLOG_XACTS_PER_PAGE - 1]), `0001`(contains xid in [32 * CLOG_XACTS_PER_PAGE, 32 * CLOG_XACTS_PER_PAGE * 2 - 1]) and so on. Because four hex numbers can represent $16^4=2^{12}$ files with $2^{12} \\\\times 32 \\\\times 8192 \\\\times 4 = 2^{32}$ transactionslogseq____&apos; status(a int32 size)\\n\\nAttension, such simple mapping means that the pages in clog file donlogseq____&apos;t have page headers. So we canlogseq____&apos;t record `LSN`, `checksum` in each page. The lack of `LSN` means the changes of clog page wouldnlogseq____&apos;t be recorded in `WAL` but clog doesnlogseq____&apos;t need it indeed.logseq____&quot;,536870922]],[logseq____&quot;^15logseq____&quot;,[50,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870922]],[logseq____&quot;^15logseq____&quot;,[50,logseq____&quot;^Flogseq____&quot;,49,536870922]],[logseq____&quot;^15logseq____&quot;,[50,logseq____&quot;^Xlogseq____&quot;,20,536870922]],[logseq____&quot;^15logseq____&quot;,[50,logseq____&quot;^Vlogseq____&quot;,20,536870922]],[logseq____&quot;^15logseq____&quot;,[50,logseq____&quot;^Ulogseq____&quot;,20,536870922]],[logseq____&quot;^15logseq____&quot;,[50,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^17logseq____&quot;,2],536870922]],[logseq____&quot;^15logseq____&quot;,[50,logseq____&quot;^Jlogseq____&quot;,[],536870922]],[logseq____&quot;^15logseq____&quot;,[50,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-b9b1-4059-924c-9e623df7fc61logseq____&quot;,536870922]],[logseq____&quot;^15logseq____&quot;,[51,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## Extend And Truncate\\nDuring the process of generating a new `xid`, we make sure that the slru page exists.\\n* If itlogseq____&apos;s the first xid of the page, we allocate a new page in clog buffer.\\n* Also generate a WAL to record the birth of the page.\\n* If not, the page must exist in memory or flushed into disk. So itlogseq____&apos;s for slru\\nlayer to manage such situation.  Keep in mind that the general self-increment xid doeslogseq____&apos;t begin at zero:\\n```C\\n#define FirstNormalTransactionId\\t((TransactionId) 3)\\n```\\nso:\\n* During bootstrap, initialize the first clog page\\n* During extend new pages, be careful about the `FirstNormalTransactionId`,\\nsince it is not the first xid in page representation but the first general one.\\n\\nThe above behaviors indicate that although a clog segment at most occupies 256K space, it doesnlogseq____&apos;t have such size just after initialization. We extend 8K pages one by one during the xid increment.\\n\\nSince at most half of `uint32` xids can be in use, itlogseq____&apos;s natural to clean up out of date clog files. Different from extending a page, we always delete a whole page. So once we promote the `frozenxid`, we try to find some clog files to delete:\\n1. The judgement whether there is a file can be deleted is completed in slru layer(a loop to scan the directory), but clog layer supports a hook to judge one file.\\n2. Advance the oldest clog xid in shared memory\\n3. Generate a clog truncate WAL record\\n4. Real truncate. Complemented in slru layer.\\n\\nDetails of the two kind WAL record will be shown later.logseq____&quot;,536870922]],[logseq____&quot;^15logseq____&quot;,[51,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870922]],[logseq____&quot;^15logseq____&quot;,[51,logseq____&quot;^Flogseq____&quot;,50,536870922]],[logseq____&quot;^15logseq____&quot;,[51,logseq____&quot;^Xlogseq____&quot;,20,536870922]],[logseq____&quot;^15logseq____&quot;,[51,logseq____&quot;^Vlogseq____&quot;,20,536870922]],[logseq____&quot;^15logseq____&quot;,[51,logseq____&quot;^Ulogseq____&quot;,20,536870922]],[logseq____&quot;^15logseq____&quot;,[51,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^17logseq____&quot;,2],536870922]],[logseq____&quot;^15logseq____&quot;,[51,logseq____&quot;^Jlogseq____&quot;,[],536870922]],[logseq____&quot;^15logseq____&quot;,[51,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-0ab7-4c12-92dd-befa45ef522clogseq____&quot;,536870922]],[logseq____&quot;^15logseq____&quot;,[52,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## Set And Get\\nConcerned with subtransactions ...\\nlogseq____&gt; I canlogseq____&apos;t totally figure out the commit tree without knowing the mechanism of subtransaction. Just assuming subxids as a set of xids related to the main xid seems not convictive enough for me. So I remain it here now and will finish it after reading subtransactions)\\n\\n\\nFor now, it seems enough to knowing that\\n1. The pair of operations wouldnlogseq____&apos;t generate any WAL record\\n2. They are done during the commit or abort procedure.logseq____&quot;,536870922]],[logseq____&quot;^15logseq____&quot;,[52,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870922]],[logseq____&quot;^15logseq____&quot;,[52,logseq____&quot;^Flogseq____&quot;,51,536870922]],[logseq____&quot;^15logseq____&quot;,[52,logseq____&quot;^Xlogseq____&quot;,20,536870922]],[logseq____&quot;^15logseq____&quot;,[52,logseq____&quot;^Vlogseq____&quot;,20,536870922]],[logseq____&quot;^15logseq____&quot;,[52,logseq____&quot;^Ulogseq____&quot;,20,536870922]],[logseq____&quot;^15logseq____&quot;,[52,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^17logseq____&quot;,2],536870922]],[logseq____&quot;^15logseq____&quot;,[52,logseq____&quot;^Jlogseq____&quot;,[],536870922]],[logseq____&quot;^15logseq____&quot;,[52,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-5d93-4359-9802-750c17a6dc42logseq____&quot;,536870922]],[logseq____&quot;^15logseq____&quot;,[53,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## Record changes in WAL #wal \\nRecall what mentioned above:\\n* Extending a new page and delete a segment will generate a WAL record.\\n* Setting commit status wouldnlogseq____&apos;t\\n\\nFor the latter one, itlogseq____&apos;s unbelievable but tricky. Since only the transactions that changes the content data(some hint flags are exception, such as tuple infomask) will have a xid(and then record on clog segment). During the replay of such transactionslogseq____&apos; commit(or abort) WAL record, we can redo the clog by the way. \\n\\nFor the former one, itlogseq____&apos;s a matter of course, since we must guarantee the clog to be recovery-safe. But some details deserve a glance:\\n\\n* For extending a new page, it makes no difference that we flush the WAL record now or later. Since once we want to set status in a non-existent page during recovery, we can padding a new empty page. This trick doesnlogseq____&apos;t affect the page usage.\\n* For deleting a clog segment, we have no chance to remedy the lost of clogs, and the disaster means a lot of tuple can be accessed at all. So regardless of the synchronous commit level, we must ensure the WAL record has flushed into disk before really delete the segments.logseq____&quot;,536870922]],[logseq____&quot;^15logseq____&quot;,[53,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870922]],[logseq____&quot;^15logseq____&quot;,[53,logseq____&quot;^Flogseq____&quot;,52,536870922]],[logseq____&quot;^15logseq____&quot;,[53,logseq____&quot;^Xlogseq____&quot;,20,536870922]],[logseq____&quot;^15logseq____&quot;,[53,logseq____&quot;^Vlogseq____&quot;,20,536870922]],[logseq____&quot;^15logseq____&quot;,[53,logseq____&quot;^Ulogseq____&quot;,20,536870922]],[logseq____&quot;^15logseq____&quot;,[53,logseq____&quot;^Ulogseq____&quot;,48,536870922]],[logseq____&quot;^15logseq____&quot;,[53,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^17logseq____&quot;,2],536870922]],[logseq____&quot;^15logseq____&quot;,[53,logseq____&quot;^Jlogseq____&quot;,[],536870922]],[logseq____&quot;^15logseq____&quot;,[53,logseq____&quot;^Hlogseq____&quot;,48,536870922]],[logseq____&quot;^15logseq____&quot;,[53,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-5761-492b-aa40-cc49e7175afalogseq____&quot;,536870922]],[logseq____&quot;^15logseq____&quot;,[55,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;Why is `multi-transaction-log` #SLRU_IMPLEMENT\\n* Since many transactions can have the shared lock on a same tuple simultaneously but there is no space to record these transactions in the tuple header, welogseq____&apos;d better to manage a specific **shared space** to recording the transactions that holding the tuple-level locks.\\n* A shared memory space doesnlogseq____&apos;t seem OK since one transaction can access tons of tuple which is unadvisable to store them in memory. So the only solution is recording in disk\\n* So locking a row might cause a disk writelogseq____&quot;,536870923]],[logseq____&quot;^15logseq____&quot;,[55,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870923]],[logseq____&quot;^15logseq____&quot;,[55,logseq____&quot;^Flogseq____&quot;,63,536870923]],[logseq____&quot;^15logseq____&quot;,[55,logseq____&quot;^Xlogseq____&quot;,22,536870923]],[logseq____&quot;^15logseq____&quot;,[55,logseq____&quot;^Vlogseq____&quot;,22,536870923]],[logseq____&quot;^15logseq____&quot;,[55,logseq____&quot;^Ulogseq____&quot;,22,536870923]],[logseq____&quot;^15logseq____&quot;,[55,logseq____&quot;^Ulogseq____&quot;,47,536870923]],[logseq____&quot;^15logseq____&quot;,[55,logseq____&quot;^Hlogseq____&quot;,47,536870923]],[logseq____&quot;^15logseq____&quot;,[55,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-19ab-4264-9cc2-4f5bdc58a78dlogseq____&quot;,536870923]],[logseq____&quot;^15logseq____&quot;,[56,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```C\\ntypedef enum\\n{\\n\\tMultiXactStatusForKeyShare = 0x00,\\n\\tMultiXactStatusForShare = 0x01,\\n\\tMultiXactStatusForNoKeyUpdate = 0x02,\\n\\tMultiXactStatusForUpdate = 0x03,\\n\\t/* an update that doesnlogseq____&apos;t touch \\logseq____&quot;key\\logseq____&quot; columns */\\n\\tMultiXactStatusNoKeyUpdate = 0x04,\\n\\t/* other updates, and delete */\\n\\tMultiXactStatusUpdate = 0x05\\n} MultiXactStatus;\\n```logseq____&quot;,536870923]],[logseq____&quot;^15logseq____&quot;,[56,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870923]],[logseq____&quot;^15logseq____&quot;,[56,logseq____&quot;^Flogseq____&quot;,61,536870923]],[logseq____&quot;^15logseq____&quot;,[56,logseq____&quot;^Xlogseq____&quot;,22,536870923]],[logseq____&quot;^15logseq____&quot;,[56,logseq____&quot;^Vlogseq____&quot;,61,536870923]],[logseq____&quot;^15logseq____&quot;,[56,logseq____&quot;^Ulogseq____&quot;,22,536870923]],[logseq____&quot;^15logseq____&quot;,[56,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-4d7a-4266-9574-877e5bfd806clogseq____&quot;,536870923]],[logseq____&quot;^15logseq____&quot;,[57,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;As mentioned above, we need to maintain every `MXactM` lists for each `MXact`, The logical implement is below:logseq____&quot;,536870923]],[logseq____&quot;^15logseq____&quot;,[57,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870923]],[logseq____&quot;^15logseq____&quot;,[57,logseq____&quot;^Flogseq____&quot;,60,536870923]],[logseq____&quot;^15logseq____&quot;,[57,logseq____&quot;^Xlogseq____&quot;,22,536870923]],[logseq____&quot;^15logseq____&quot;,[57,logseq____&quot;^Vlogseq____&quot;,60,536870923]],[logseq____&quot;^15logseq____&quot;,[57,logseq____&quot;^Ulogseq____&quot;,22,536870923]],[logseq____&quot;^15logseq____&quot;,[57,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-aa81-4f03-bee3-2c86a4312dcdlogseq____&quot;,536870923]],[logseq____&quot;^15logseq____&quot;,[58,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;Whatlogseq____&apos;s `MXact`:\\nDifferent from `xid` as a transaction level concept,  `multi-transaction-id(MXact)` is a `tuple` level concepts.  When there may be a conflict at tuple, that is deciding the `xmax` value , a `MXact` is generated with tuple. The `Mxact` relates to an array of `xid`s which are accessing the tuple an their lock types.logseq____&quot;,536870923]],[logseq____&quot;^15logseq____&quot;,[58,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870923]],[logseq____&quot;^15logseq____&quot;,[58,logseq____&quot;^Flogseq____&quot;,59,536870923]],[logseq____&quot;^15logseq____&quot;,[58,logseq____&quot;^Xlogseq____&quot;,22,536870923]],[logseq____&quot;^15logseq____&quot;,[58,logseq____&quot;^Vlogseq____&quot;,59,536870923]],[logseq____&quot;^15logseq____&quot;,[58,logseq____&quot;^Ulogseq____&quot;,22,536870923]],[logseq____&quot;^15logseq____&quot;,[58,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-e2e2-4f32-b5cb-4f3dfa895005logseq____&quot;,536870923]],[logseq____&quot;^15logseq____&quot;,[59,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;### backendlogseq____&quot;,536870923]],[logseq____&quot;^15logseq____&quot;,[59,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870923]],[logseq____&quot;^15logseq____&quot;,[59,logseq____&quot;^Flogseq____&quot;,70,536870923]],[logseq____&quot;^15logseq____&quot;,[59,logseq____&quot;^Xlogseq____&quot;,22,536870923]],[logseq____&quot;^15logseq____&quot;,[59,logseq____&quot;^Vlogseq____&quot;,70,536870923]],[logseq____&quot;^15logseq____&quot;,[59,logseq____&quot;^Ulogseq____&quot;,22,536870923]],[logseq____&quot;^15logseq____&quot;,[59,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^17logseq____&quot;,3],536870923]],[logseq____&quot;^15logseq____&quot;,[59,logseq____&quot;^Jlogseq____&quot;,[],536870923]],[logseq____&quot;^15logseq____&quot;,[59,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-2234-4a33-9504-f0cae71fc2ealogseq____&quot;,536870923]],[logseq____&quot;^15logseq____&quot;,[60,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;### Two `slru` structure:logseq____&quot;,536870923]],[logseq____&quot;^15logseq____&quot;,[60,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870923]],[logseq____&quot;^15logseq____&quot;,[60,logseq____&quot;^Flogseq____&quot;,59,536870923]],[logseq____&quot;^15logseq____&quot;,[60,logseq____&quot;^Xlogseq____&quot;,22,536870923]],[logseq____&quot;^15logseq____&quot;,[60,logseq____&quot;^Vlogseq____&quot;,70,536870923]],[logseq____&quot;^15logseq____&quot;,[60,logseq____&quot;^Ulogseq____&quot;,22,536870923]],[logseq____&quot;^15logseq____&quot;,[60,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^17logseq____&quot;,3],536870923]],[logseq____&quot;^15logseq____&quot;,[60,logseq____&quot;^Jlogseq____&quot;,[],536870923]],[logseq____&quot;^15logseq____&quot;,[60,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-c369-4aa2-999b-cbeddb54639flogseq____&quot;,536870923]],[logseq____&quot;^15logseq____&quot;,[61,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;The `MultiXactStatus` is the lock type ((65844328-bef2-44af-8583-d61849a30ab1))logseq____&quot;,536870923]],[logseq____&quot;^15logseq____&quot;,[61,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870923]],[logseq____&quot;^15logseq____&quot;,[61,logseq____&quot;^Flogseq____&quot;,69,536870923]],[logseq____&quot;^15logseq____&quot;,[61,logseq____&quot;^Xlogseq____&quot;,22,536870923]],[logseq____&quot;^15logseq____&quot;,[61,logseq____&quot;^Vlogseq____&quot;,59,536870923]],[logseq____&quot;^15logseq____&quot;,[61,logseq____&quot;^Ulogseq____&quot;,22,536870923]],[logseq____&quot;^15logseq____&quot;,[61,logseq____&quot;^Hlogseq____&quot;,66,536870923]],[logseq____&quot;^15logseq____&quot;,[61,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-2a39-400d-a27d-e526f749782alogseq____&quot;,536870923]],[logseq____&quot;^15logseq____&quot;,[62,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`Mxact` Page:\\nSimilar to clog, one `mxact` occupy 32 bits, so `mxact` can fill the page perfectlylogseq____&quot;,536870923]],[logseq____&quot;^15logseq____&quot;,[62,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870923]],[logseq____&quot;^15logseq____&quot;,[62,logseq____&quot;^Flogseq____&quot;,68,536870923]],[logseq____&quot;^15logseq____&quot;,[62,logseq____&quot;^Xlogseq____&quot;,22,536870923]],[logseq____&quot;^15logseq____&quot;,[62,logseq____&quot;^Vlogseq____&quot;,60,536870923]],[logseq____&quot;^15logseq____&quot;,[62,logseq____&quot;^Ulogseq____&quot;,22,536870923]],[logseq____&quot;^15logseq____&quot;,[62,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-1575-4518-ad2b-1c9c06dd9706logseq____&quot;,536870923]],[logseq____&quot;^15logseq____&quot;,[63,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## Backgroundlogseq____&quot;,536870923]],[logseq____&quot;^15logseq____&quot;,[63,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870923]],[logseq____&quot;^15logseq____&quot;,[63,logseq____&quot;^Flogseq____&quot;,22,536870923]],[logseq____&quot;^15logseq____&quot;,[63,logseq____&quot;^Xlogseq____&quot;,22,536870923]],[logseq____&quot;^15logseq____&quot;,[63,logseq____&quot;^Vlogseq____&quot;,22,536870923]],[logseq____&quot;^15logseq____&quot;,[63,logseq____&quot;^Ulogseq____&quot;,22,536870923]],[logseq____&quot;^15logseq____&quot;,[63,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^17logseq____&quot;,2],536870923]],[logseq____&quot;^15logseq____&quot;,[63,logseq____&quot;^Jlogseq____&quot;,[],536870923]],[logseq____&quot;^15logseq____&quot;,[63,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-8de3-476c-8547-6bb0a237e5cdlogseq____&quot;,536870923]],[logseq____&quot;^15logseq____&quot;,[64,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```C\\ntypedef struct MultiXactMember\\n{\\n\\tTransactionId xid;\\n\\tMultiXactStatus status;\\n} MultiXactMember;\\n```logseq____&quot;,536870923]],[logseq____&quot;^15logseq____&quot;,[64,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870923]],[logseq____&quot;^15logseq____&quot;,[64,logseq____&quot;^Flogseq____&quot;,69,536870923]],[logseq____&quot;^15logseq____&quot;,[64,logseq____&quot;^Xlogseq____&quot;,22,536870923]],[logseq____&quot;^15logseq____&quot;,[64,logseq____&quot;^Vlogseq____&quot;,69,536870923]],[logseq____&quot;^15logseq____&quot;,[64,logseq____&quot;^Ulogseq____&quot;,22,536870923]],[logseq____&quot;^15logseq____&quot;,[64,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-2395-4dfa-b2b2-26714ae63ff7logseq____&quot;,536870923]],[logseq____&quot;^15logseq____&quot;,[65,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`MxactM` Page:\\nIt is a bit more complex, since we need a external byte for each `xid` attribute. To avoid alignment issues, we bind four `MxactM` as a group(20 bytes). Thus, with 8kB BLCKSZ, we keep 409 groups er page.  This wastes 12 bytes per page, but thatlogseq____&apos;s OK.logseq____&quot;,536870923]],[logseq____&quot;^15logseq____&quot;,[65,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870923]],[logseq____&quot;^15logseq____&quot;,[65,logseq____&quot;^Flogseq____&quot;,62,536870923]],[logseq____&quot;^15logseq____&quot;,[65,logseq____&quot;^Xlogseq____&quot;,22,536870923]],[logseq____&quot;^15logseq____&quot;,[65,logseq____&quot;^Vlogseq____&quot;,60,536870923]],[logseq____&quot;^15logseq____&quot;,[65,logseq____&quot;^Ulogseq____&quot;,22,536870923]],[logseq____&quot;^15logseq____&quot;,[65,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-2ae7-422b-8343-3662443f2f7flogseq____&quot;,536870923]],[logseq____&quot;^15logseq____&quot;,[66,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;Four kind of locks:\\nid:: 65844328-bef2-44af-8583-d61849a30ab1\\n* From [Official Docs](https://www.postgresql.org/docs/current/explicit-locking.html#LOCKING-ROWS) , PG has four kinds of tuple-level locks.\\n* ![image.png](../assets/tuple-level-lock-table.png)\\n* `FOR UPDATE` : acquired by `delete` or `UPDATE` that modifies the values of certain columns\\n* have a **unique index** on them that can be used in a foreign key\\n* `FOR NO KEY UPDATE`: acquired by or `UPDATE` that expect the situation above\\n* `FOR SHARE` : #TODO\\n* `FOR KEY SHARE` : #TODO \\n\\n#TODO  letlogseq____&apos;s see `heapam` first before studying the `multixact`logseq____&quot;,536870923]],[logseq____&quot;^15logseq____&quot;,[66,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870923]],[logseq____&quot;^15logseq____&quot;,[66,logseq____&quot;^Flogseq____&quot;,55,536870923]],[logseq____&quot;^15logseq____&quot;,[66,logseq____&quot;^Xlogseq____&quot;,22,536870923]],[logseq____&quot;^15logseq____&quot;,[66,logseq____&quot;^Vlogseq____&quot;,22,536870923]],[logseq____&quot;^15logseq____&quot;,[66,logseq____&quot;^Ulogseq____&quot;,4,536870923]],[logseq____&quot;^15logseq____&quot;,[66,logseq____&quot;^Ulogseq____&quot;,22,536870923]],[logseq____&quot;^15logseq____&quot;,[66,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;~:idlogseq____&quot;,logseq____&quot;65844328-bef2-44af-8583-d61849a30ab1logseq____&quot;],536870923]],[logseq____&quot;^15logseq____&quot;,[66,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^18logseq____&quot;],536870923]],[logseq____&quot;^15logseq____&quot;,[66,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^18logseq____&quot;,logseq____&quot;65844328-bef2-44af-8583-d61849a30ab1logseq____&quot;],536870923]],[logseq____&quot;^15logseq____&quot;,[66,logseq____&quot;^Hlogseq____&quot;,4,536870923]],[logseq____&quot;^15logseq____&quot;,[66,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u65844328-bef2-44af-8583-d61849a30ab1logseq____&quot;,536870923]],[logseq____&quot;^15logseq____&quot;,[67,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```\\nheapam_tuple_delete\\n.   heapam_tuple_lock_internal\\n.       heap_lock_tuple\\n.           if (infomask logseq____&amp; HEAP_XMAX_IS_MULTI)\\n            GetMultiXactIdMembers\\n```logseq____&quot;,536870923]],[logseq____&quot;^15logseq____&quot;,[67,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870923]],[logseq____&quot;^15logseq____&quot;,[67,logseq____&quot;^Flogseq____&quot;,71,536870923]],[logseq____&quot;^15logseq____&quot;,[67,logseq____&quot;^Xlogseq____&quot;,22,536870923]],[logseq____&quot;^15logseq____&quot;,[67,logseq____&quot;^Vlogseq____&quot;,71,536870923]],[logseq____&quot;^15logseq____&quot;,[67,logseq____&quot;^Ulogseq____&quot;,22,536870923]],[logseq____&quot;^15logseq____&quot;,[67,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-0fa9-483e-a681-19ba3cb891c3logseq____&quot;,536870923]],[logseq____&quot;^15logseq____&quot;,[68,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;![🖼 mxact-page.png](../assets/mxact-page.png)logseq____&quot;,536870923]],[logseq____&quot;^15logseq____&quot;,[68,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870923]],[logseq____&quot;^15logseq____&quot;,[68,logseq____&quot;^Flogseq____&quot;,57,536870923]],[logseq____&quot;^15logseq____&quot;,[68,logseq____&quot;^Xlogseq____&quot;,22,536870923]],[logseq____&quot;^15logseq____&quot;,[68,logseq____&quot;^Vlogseq____&quot;,60,536870923]],[logseq____&quot;^15logseq____&quot;,[68,logseq____&quot;^Ulogseq____&quot;,22,536870923]],[logseq____&quot;^15logseq____&quot;,[68,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-15fc-4f51-97d8-f5a657618b77logseq____&quot;,536870923]],[logseq____&quot;^15logseq____&quot;,[69,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;So we call the the transaction with its lock type as `multi transaction member(MXactM)`logseq____&quot;,536870923]],[logseq____&quot;^15logseq____&quot;,[69,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870923]],[logseq____&quot;^15logseq____&quot;,[69,logseq____&quot;^Flogseq____&quot;,58,536870923]],[logseq____&quot;^15logseq____&quot;,[69,logseq____&quot;^Xlogseq____&quot;,22,536870923]],[logseq____&quot;^15logseq____&quot;,[69,logseq____&quot;^Vlogseq____&quot;,59,536870923]],[logseq____&quot;^15logseq____&quot;,[69,logseq____&quot;^Ulogseq____&quot;,22,536870923]],[logseq____&quot;^15logseq____&quot;,[69,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-53b6-448e-a192-b1a3563d69e7logseq____&quot;,536870923]],[logseq____&quot;^15logseq____&quot;,[70,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## Low level Designlogseq____&quot;,536870923]],[logseq____&quot;^15logseq____&quot;,[70,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870923]],[logseq____&quot;^15logseq____&quot;,[70,logseq____&quot;^Flogseq____&quot;,66,536870923]],[logseq____&quot;^15logseq____&quot;,[70,logseq____&quot;^Xlogseq____&quot;,22,536870923]],[logseq____&quot;^15logseq____&quot;,[70,logseq____&quot;^Vlogseq____&quot;,22,536870923]],[logseq____&quot;^15logseq____&quot;,[70,logseq____&quot;^Ulogseq____&quot;,22,536870923]],[logseq____&quot;^15logseq____&quot;,[70,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^17logseq____&quot;,2],536870923]],[logseq____&quot;^15logseq____&quot;,[70,logseq____&quot;^Jlogseq____&quot;,[],536870923]],[logseq____&quot;^15logseq____&quot;,[70,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-e7b4-4392-a001-0104827b4b0elogseq____&quot;,536870923]],[logseq____&quot;^15logseq____&quot;,[71,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## otherslogseq____&quot;,536870923]],[logseq____&quot;^15logseq____&quot;,[71,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870923]],[logseq____&quot;^15logseq____&quot;,[71,logseq____&quot;^Flogseq____&quot;,70,536870923]],[logseq____&quot;^15logseq____&quot;,[71,logseq____&quot;^Xlogseq____&quot;,22,536870923]],[logseq____&quot;^15logseq____&quot;,[71,logseq____&quot;^Vlogseq____&quot;,22,536870923]],[logseq____&quot;^15logseq____&quot;,[71,logseq____&quot;^Ulogseq____&quot;,22,536870923]],[logseq____&quot;^15logseq____&quot;,[71,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^17logseq____&quot;,2],536870923]],[logseq____&quot;^15logseq____&quot;,[71,logseq____&quot;^Jlogseq____&quot;,[],536870923]],[logseq____&quot;^15logseq____&quot;,[71,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-fe69-436b-ac7f-dfed536c92cflogseq____&quot;,536870923]],[logseq____&quot;^15logseq____&quot;,[73,logseq____&quot;^Klogseq____&quot;,1703171764212,536870924]],[logseq____&quot;^15logseq____&quot;,[73,logseq____&quot;^@logseq____&quot;,false,536870924]],[logseq____&quot;^15logseq____&quot;,[73,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;relfilelocatorlogseq____&quot;,536870924]],[logseq____&quot;^15logseq____&quot;,[73,logseq____&quot;^11logseq____&quot;,logseq____&quot;relfilelocatorlogseq____&quot;,536870924]],[logseq____&quot;^15logseq____&quot;,[73,logseq____&quot;^Blogseq____&quot;,1703171764212,536870924]],[logseq____&quot;^15logseq____&quot;,[73,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-a18c-43f3-8749-f48711577cedlogseq____&quot;,536870929]],[logseq____&quot;^15logseq____&quot;,[74,logseq____&quot;^Klogseq____&quot;,1703171764214,536870924]],[logseq____&quot;^15logseq____&quot;,[74,logseq____&quot;^@logseq____&quot;,false,536870924]],[logseq____&quot;^15logseq____&quot;,[74,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;shared-bufferslogseq____&quot;,536870924]],[logseq____&quot;^15logseq____&quot;,[74,logseq____&quot;^11logseq____&quot;,logseq____&quot;shared-bufferslogseq____&quot;,536870924]],[logseq____&quot;^15logseq____&quot;,[74,logseq____&quot;^Blogseq____&quot;,1703171764214,536870924]],[logseq____&quot;^15logseq____&quot;,[74,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-e83b-4f1f-9df4-a5247e5083cblogseq____&quot;,536870925]],[logseq____&quot;^15logseq____&quot;,[75,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;See ((6581a94f-7372-4aef-9531-962f2170ffec)) for detaillogseq____&quot;,536870924]],[logseq____&quot;^15logseq____&quot;,[75,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870924]],[logseq____&quot;^15logseq____&quot;,[75,logseq____&quot;^Flogseq____&quot;,88,536870924]],[logseq____&quot;^15logseq____&quot;,[75,logseq____&quot;^Xlogseq____&quot;,73,536870924]],[logseq____&quot;^15logseq____&quot;,[75,logseq____&quot;^Vlogseq____&quot;,81,536870924]],[logseq____&quot;^15logseq____&quot;,[75,logseq____&quot;^Ulogseq____&quot;,73,536870924]],[logseq____&quot;^15logseq____&quot;,[75,logseq____&quot;^Hlogseq____&quot;,78,536870924]],[logseq____&quot;^15logseq____&quot;,[75,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-873a-49b1-a01f-bd20d92e654clogseq____&quot;,536870924]],[logseq____&quot;^15logseq____&quot;,[76,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`RelFileNumber` is the file name of the relationlogseq____&quot;,536870924]],[logseq____&quot;^15logseq____&quot;,[76,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870924]],[logseq____&quot;^15logseq____&quot;,[76,logseq____&quot;^Flogseq____&quot;,86,536870924]],[logseq____&quot;^15logseq____&quot;,[76,logseq____&quot;^Xlogseq____&quot;,73,536870924]],[logseq____&quot;^15logseq____&quot;,[76,logseq____&quot;^Vlogseq____&quot;,73,536870924]],[logseq____&quot;^15logseq____&quot;,[76,logseq____&quot;^Ulogseq____&quot;,73,536870924]],[logseq____&quot;^15logseq____&quot;,[76,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-8b2f-42bf-ab32-c56c198ac5edlogseq____&quot;,536870924]],[logseq____&quot;^15logseq____&quot;,[77,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`INIT_FORKNUM` : for  [unlogged table](https://www.postgresql.org/docs/current/sql-createtable.html#SQL-CREATETABLE-UNLOGGED)logseq____&quot;,536870924]],[logseq____&quot;^15logseq____&quot;,[77,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870924]],[logseq____&quot;^15logseq____&quot;,[77,logseq____&quot;^Flogseq____&quot;,80,536870924]],[logseq____&quot;^15logseq____&quot;,[77,logseq____&quot;^Xlogseq____&quot;,73,536870924]],[logseq____&quot;^15logseq____&quot;,[77,logseq____&quot;^Vlogseq____&quot;,83,536870924]],[logseq____&quot;^15logseq____&quot;,[77,logseq____&quot;^Ulogseq____&quot;,73,536870924]],[logseq____&quot;^15logseq____&quot;,[77,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-1ef1-4d0d-8607-b85634667d1clogseq____&quot;,536870924]],[logseq____&quot;^15logseq____&quot;,[78,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## buffer tag\\nid:: 6581a94f-7372-4aef-9531-962f2170ffeclogseq____&quot;,536870925]],[logseq____&quot;^15logseq____&quot;,[78,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870925]],[logseq____&quot;^15logseq____&quot;,[78,logseq____&quot;^Flogseq____&quot;,74,536870925]],[logseq____&quot;^15logseq____&quot;,[78,logseq____&quot;^Xlogseq____&quot;,74,536870925]],[logseq____&quot;^15logseq____&quot;,[78,logseq____&quot;^Vlogseq____&quot;,74,536870925]],[logseq____&quot;^15logseq____&quot;,[78,logseq____&quot;^Ulogseq____&quot;,74,536870925]],[logseq____&quot;^15logseq____&quot;,[78,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^18logseq____&quot;,logseq____&quot;6581a94f-7372-4aef-9531-962f2170ffeclogseq____&quot;,logseq____&quot;^17logseq____&quot;,2],536870925]],[logseq____&quot;^15logseq____&quot;,[78,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^18logseq____&quot;],536870925]],[logseq____&quot;^15logseq____&quot;,[78,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^18logseq____&quot;,logseq____&quot;6581a94f-7372-4aef-9531-962f2170ffeclogseq____&quot;],536870925]],[logseq____&quot;^15logseq____&quot;,[78,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u6581a94f-7372-4aef-9531-962f2170ffeclogseq____&quot;,536870924]],[logseq____&quot;^15logseq____&quot;,[79,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&quot;,536870924]],[logseq____&quot;^15logseq____&quot;,[79,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870924]],[logseq____&quot;^15logseq____&quot;,[79,logseq____&quot;^Flogseq____&quot;,83,536870924]],[logseq____&quot;^15logseq____&quot;,[79,logseq____&quot;^Xlogseq____&quot;,73,536870924]],[logseq____&quot;^15logseq____&quot;,[79,logseq____&quot;^Vlogseq____&quot;,73,536870924]],[logseq____&quot;^15logseq____&quot;,[79,logseq____&quot;^Ulogseq____&quot;,73,536870924]],[logseq____&quot;^15logseq____&quot;,[79,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-b49b-4899-8abe-4e9ac02c88d7logseq____&quot;,536870924]],[logseq____&quot;^15logseq____&quot;,[80,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`VISIBILITYMAP_FORKNUM` : VISIBILITYMAP filelogseq____&quot;,536870924]],[logseq____&quot;^15logseq____&quot;,[80,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870924]],[logseq____&quot;^15logseq____&quot;,[80,logseq____&quot;^Flogseq____&quot;,89,536870924]],[logseq____&quot;^15logseq____&quot;,[80,logseq____&quot;^Xlogseq____&quot;,73,536870924]],[logseq____&quot;^15logseq____&quot;,[80,logseq____&quot;^Vlogseq____&quot;,83,536870924]],[logseq____&quot;^15logseq____&quot;,[80,logseq____&quot;^Ulogseq____&quot;,73,536870924]],[logseq____&quot;^15logseq____&quot;,[80,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-f686-411d-ae5d-c6e98d6b804clogseq____&quot;,536870924]],[logseq____&quot;^15logseq____&quot;,[81,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;It is the file \\logseq____&quot;type\\logseq____&quot; of a relationlogseq____&quot;,536870924]],[logseq____&quot;^15logseq____&quot;,[81,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870924]],[logseq____&quot;^15logseq____&quot;,[81,logseq____&quot;^Flogseq____&quot;,83,536870924]],[logseq____&quot;^15logseq____&quot;,[81,logseq____&quot;^Xlogseq____&quot;,73,536870924]],[logseq____&quot;^15logseq____&quot;,[81,logseq____&quot;^Vlogseq____&quot;,83,536870924]],[logseq____&quot;^15logseq____&quot;,[81,logseq____&quot;^Ulogseq____&quot;,73,536870924]],[logseq____&quot;^15logseq____&quot;,[81,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-2c51-4b27-b680-8d627b6b4dbalogseq____&quot;,536870924]],[logseq____&quot;^15logseq____&quot;,[82,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`MAIN_FORKNUM` : heap filelogseq____&quot;,536870924]],[logseq____&quot;^15logseq____&quot;,[82,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870924]],[logseq____&quot;^15logseq____&quot;,[82,logseq____&quot;^Flogseq____&quot;,81,536870924]],[logseq____&quot;^15logseq____&quot;,[82,logseq____&quot;^Xlogseq____&quot;,73,536870924]],[logseq____&quot;^15logseq____&quot;,[82,logseq____&quot;^Vlogseq____&quot;,83,536870924]],[logseq____&quot;^15logseq____&quot;,[82,logseq____&quot;^Ulogseq____&quot;,73,536870924]],[logseq____&quot;^15logseq____&quot;,[82,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-01d5-4d7a-9c74-5eef2d8c7418logseq____&quot;,536870924]],[logseq____&quot;^15logseq____&quot;,[83,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`ForkNumber`\\nid:: 65805626-a222-4aa2-88e3-8a3dcfda498flogseq____&quot;,536870924]],[logseq____&quot;^15logseq____&quot;,[83,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870924]],[logseq____&quot;^15logseq____&quot;,[83,logseq____&quot;^Flogseq____&quot;,76,536870924]],[logseq____&quot;^15logseq____&quot;,[83,logseq____&quot;^Xlogseq____&quot;,73,536870924]],[logseq____&quot;^15logseq____&quot;,[83,logseq____&quot;^Vlogseq____&quot;,73,536870924]],[logseq____&quot;^15logseq____&quot;,[83,logseq____&quot;^Ulogseq____&quot;,73,536870924]],[logseq____&quot;^15logseq____&quot;,[83,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^18logseq____&quot;,logseq____&quot;65805626-a222-4aa2-88e3-8a3dcfda498flogseq____&quot;],536870924]],[logseq____&quot;^15logseq____&quot;,[83,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^18logseq____&quot;],536870924]],[logseq____&quot;^15logseq____&quot;,[83,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^18logseq____&quot;,logseq____&quot;65805626-a222-4aa2-88e3-8a3dcfda498flogseq____&quot;],536870924]],[logseq____&quot;^15logseq____&quot;,[83,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u65805626-a222-4aa2-88e3-8a3dcfda498flogseq____&quot;,536870924]],[logseq____&quot;^15logseq____&quot;,[84,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;Oid of a relation is logically existent.logseq____&quot;,536870924]],[logseq____&quot;^15logseq____&quot;,[84,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870924]],[logseq____&quot;^15logseq____&quot;,[84,logseq____&quot;^Flogseq____&quot;,76,536870924]],[logseq____&quot;^15logseq____&quot;,[84,logseq____&quot;^Xlogseq____&quot;,73,536870924]],[logseq____&quot;^15logseq____&quot;,[84,logseq____&quot;^Vlogseq____&quot;,76,536870924]],[logseq____&quot;^15logseq____&quot;,[84,logseq____&quot;^Ulogseq____&quot;,73,536870924]],[logseq____&quot;^15logseq____&quot;,[84,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-0e88-462e-8e52-e81721bfd388logseq____&quot;,536870924]],[logseq____&quot;^15logseq____&quot;,[85,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;RelFileNumber is physically existent, since operations like `vacuum full` and `truncate` will create new files with different file namelogseq____&quot;,536870924]],[logseq____&quot;^15logseq____&quot;,[85,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870924]],[logseq____&quot;^15logseq____&quot;,[85,logseq____&quot;^Flogseq____&quot;,84,536870924]],[logseq____&quot;^15logseq____&quot;,[85,logseq____&quot;^Xlogseq____&quot;,73,536870924]],[logseq____&quot;^15logseq____&quot;,[85,logseq____&quot;^Vlogseq____&quot;,76,536870924]],[logseq____&quot;^15logseq____&quot;,[85,logseq____&quot;^Ulogseq____&quot;,73,536870924]],[logseq____&quot;^15logseq____&quot;,[85,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-97e9-4743-95f8-42bd68a52cc7logseq____&quot;,536870924]],[logseq____&quot;^15logseq____&quot;,[86,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```C\\ntypedef struct RelFileLocator\\n{\\n\\tOid\\t\\t\\tspcOid;\\t\\t\\t/* tablespace */\\n\\tOid\\t\\t\\tdbOid;\\t\\t\\t/* database */\\n\\tRelFileNumber relNumber;\\t/* relation */\\n} RelFileLocator;\\n```logseq____&quot;,536870924]],[logseq____&quot;^15logseq____&quot;,[86,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870924]],[logseq____&quot;^15logseq____&quot;,[86,logseq____&quot;^Flogseq____&quot;,73,536870924]],[logseq____&quot;^15logseq____&quot;,[86,logseq____&quot;^Xlogseq____&quot;,73,536870924]],[logseq____&quot;^15logseq____&quot;,[86,logseq____&quot;^Vlogseq____&quot;,73,536870924]],[logseq____&quot;^15logseq____&quot;,[86,logseq____&quot;^Ulogseq____&quot;,73,536870924]],[logseq____&quot;^15logseq____&quot;,[86,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-f116-47a3-9e22-f4114a2a67aalogseq____&quot;,536870924]],[logseq____&quot;^15logseq____&quot;,[87,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&quot;,536870924]],[logseq____&quot;^15logseq____&quot;,[87,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870924]],[logseq____&quot;^15logseq____&quot;,[87,logseq____&quot;^Flogseq____&quot;,77,536870924]],[logseq____&quot;^15logseq____&quot;,[87,logseq____&quot;^Xlogseq____&quot;,73,536870924]],[logseq____&quot;^15logseq____&quot;,[87,logseq____&quot;^Vlogseq____&quot;,83,536870924]],[logseq____&quot;^15logseq____&quot;,[87,logseq____&quot;^Ulogseq____&quot;,73,536870924]],[logseq____&quot;^15logseq____&quot;,[87,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-841a-4281-a6d5-885209c6aac4logseq____&quot;,536870924]],[logseq____&quot;^15logseq____&quot;,[88,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;The main data, fsm and vm are all buffered by the [[shared-buffers]] .logseq____&quot;,536870924]],[logseq____&quot;^15logseq____&quot;,[88,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870924]],[logseq____&quot;^15logseq____&quot;,[88,logseq____&quot;^Flogseq____&quot;,81,536870924]],[logseq____&quot;^15logseq____&quot;,[88,logseq____&quot;^Xlogseq____&quot;,73,536870924]],[logseq____&quot;^15logseq____&quot;,[88,logseq____&quot;^Vlogseq____&quot;,81,536870924]],[logseq____&quot;^15logseq____&quot;,[88,logseq____&quot;^Ulogseq____&quot;,73,536870924]],[logseq____&quot;^15logseq____&quot;,[88,logseq____&quot;^Ulogseq____&quot;,74,536870924]],[logseq____&quot;^15logseq____&quot;,[88,logseq____&quot;^Hlogseq____&quot;,74,536870924]],[logseq____&quot;^15logseq____&quot;,[88,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-d3c9-4749-a233-434c31540b5elogseq____&quot;,536870924]],[logseq____&quot;^15logseq____&quot;,[89,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`FSM_FORKNUM` : free space manager filelogseq____&quot;,536870924]],[logseq____&quot;^15logseq____&quot;,[89,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870924]],[logseq____&quot;^15logseq____&quot;,[89,logseq____&quot;^Flogseq____&quot;,82,536870924]],[logseq____&quot;^15logseq____&quot;,[89,logseq____&quot;^Xlogseq____&quot;,73,536870924]],[logseq____&quot;^15logseq____&quot;,[89,logseq____&quot;^Vlogseq____&quot;,83,536870924]],[logseq____&quot;^15logseq____&quot;,[89,logseq____&quot;^Ulogseq____&quot;,73,536870924]],[logseq____&quot;^15logseq____&quot;,[89,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-7e17-4a79-9511-e7f0ee9e7144logseq____&quot;,536870924]],[logseq____&quot;^15logseq____&quot;,[90,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;{{embed [[unlogged-table]]}}logseq____&quot;,536870924]],[logseq____&quot;^15logseq____&quot;,[90,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870924]],[logseq____&quot;^15logseq____&quot;,[90,logseq____&quot;^Flogseq____&quot;,77,536870924]],[logseq____&quot;^15logseq____&quot;,[90,logseq____&quot;^Slogseq____&quot;,91,536870924]],[logseq____&quot;^15logseq____&quot;,[90,logseq____&quot;^Xlogseq____&quot;,73,536870924]],[logseq____&quot;^15logseq____&quot;,[90,logseq____&quot;^Vlogseq____&quot;,77,536870924]],[logseq____&quot;^15logseq____&quot;,[90,logseq____&quot;^Ulogseq____&quot;,28,536870924]],[logseq____&quot;^15logseq____&quot;,[90,logseq____&quot;^Ulogseq____&quot;,73,536870924]],[logseq____&quot;^15logseq____&quot;,[90,logseq____&quot;^Hlogseq____&quot;,28,536870924]],[logseq____&quot;^15logseq____&quot;,[90,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-e0cc-46e8-ad01-7f7e2ca39ac2logseq____&quot;,536870924]],[logseq____&quot;^15logseq____&quot;,[91,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;~:logseq.macro-namelogseq____&quot;,logseq____&quot;embedlogseq____&quot;,logseq____&quot;~:logseq.macro-argumentslogseq____&quot;,[logseq____&quot;[[unlogged-table]]logseq____&quot;]],536870924]],[logseq____&quot;^15logseq____&quot;,[91,logseq____&quot;^Wlogseq____&quot;,logseq____&quot;macrologseq____&quot;,536870924]],[logseq____&quot;^15logseq____&quot;,[91,logseq____&quot;^Tlogseq____&quot;,logseq____&quot;embed [[unlogged-table]]logseq____&quot;,536870924]],[logseq____&quot;^15logseq____&quot;,[93,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```\\nBufferGetTag(Buffer buffer, RelFileLocator *rlocator, ForkNumber *forknum,\\n\\t\\t\\t BlockNumber *blknum)\\n{\\n\\tbufHdr = GetLocalBufferDescriptor/GetBufferDescriptor\\n    *rlocator = BufTagGetRelFileLocator(logseq____&amp;bufHdr-logseq____&gt;tag);\\n    *forknum = BufTagGetForkNum(logseq____&amp;bufHdr-logseq____&gt;tag);\\n    *blknum = bufHdr-logseq____&gt;tag.blockNum;\\n}\\n```logseq____&quot;,536870925]],[logseq____&quot;^15logseq____&quot;,[93,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870925]],[logseq____&quot;^15logseq____&quot;,[93,logseq____&quot;^Flogseq____&quot;,78,536870925]],[logseq____&quot;^15logseq____&quot;,[93,logseq____&quot;^Xlogseq____&quot;,74,536870925]],[logseq____&quot;^15logseq____&quot;,[93,logseq____&quot;^Vlogseq____&quot;,78,536870925]],[logseq____&quot;^15logseq____&quot;,[93,logseq____&quot;^Ulogseq____&quot;,74,536870925]],[logseq____&quot;^15logseq____&quot;,[93,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-f993-4bdc-9865-88588393be19logseq____&quot;,536870925]],[logseq____&quot;^15logseq____&quot;,[94,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&quot;,536870925]],[logseq____&quot;^15logseq____&quot;,[94,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870925]],[logseq____&quot;^15logseq____&quot;,[94,logseq____&quot;^Flogseq____&quot;,78,536870925]],[logseq____&quot;^15logseq____&quot;,[94,logseq____&quot;^Xlogseq____&quot;,74,536870925]],[logseq____&quot;^15logseq____&quot;,[94,logseq____&quot;^Vlogseq____&quot;,74,536870925]],[logseq____&quot;^15logseq____&quot;,[94,logseq____&quot;^Ulogseq____&quot;,74,536870925]],[logseq____&quot;^15logseq____&quot;,[94,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-b32d-4fc7-9e7a-2683d39cdc54logseq____&quot;,536870925]],[logseq____&quot;^15logseq____&quot;,[96,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;### 存储结构\\n\\n与bpm不同，通过slru管理的page，其文件大小固定，一个文件有32个page，一个page有8KB，故一个文件最大为256K。\\n\\n与WAL不同，WAL文件的大小在创建时就已经确定为16M，与WAL文件重用保持一致，而slru的文件，先在内存中产生相应的page，再会去落盘。\\n\\n```C\\n#define SLRU_PAGES_PER_SEGMENT\\t32\\n```logseq____&quot;,536870926]],[logseq____&quot;^15logseq____&quot;,[96,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870926]],[logseq____&quot;^15logseq____&quot;,[96,logseq____&quot;^Flogseq____&quot;,98,536870926]],[logseq____&quot;^15logseq____&quot;,[96,logseq____&quot;^Xlogseq____&quot;,21,536870926]],[logseq____&quot;^15logseq____&quot;,[96,logseq____&quot;^Vlogseq____&quot;,21,536870926]],[logseq____&quot;^15logseq____&quot;,[96,logseq____&quot;^Ulogseq____&quot;,21,536870926]],[logseq____&quot;^15logseq____&quot;,[96,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^17logseq____&quot;,3],536870926]],[logseq____&quot;^15logseq____&quot;,[96,logseq____&quot;^Jlogseq____&quot;,[],536870926]],[logseq____&quot;^15logseq____&quot;,[96,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-aa37-4cfa-a1ef-888e1a5c50ddlogseq____&quot;,536870926]],[logseq____&quot;^15logseq____&quot;,[97,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;### 核心功能\\n\\n1. `SimpleLruZeroPage`：新增一个page\\n2. `SimpleLruReadPage` ：读一个page\\n3. `SimpleLruWritePage` ：写一个pagelogseq____&quot;,536870926]],[logseq____&quot;^15logseq____&quot;,[97,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870926]],[logseq____&quot;^15logseq____&quot;,[97,logseq____&quot;^Flogseq____&quot;,104,536870926]],[logseq____&quot;^15logseq____&quot;,[97,logseq____&quot;^Xlogseq____&quot;,21,536870926]],[logseq____&quot;^15logseq____&quot;,[97,logseq____&quot;^Vlogseq____&quot;,21,536870926]],[logseq____&quot;^15logseq____&quot;,[97,logseq____&quot;^Ulogseq____&quot;,21,536870926]],[logseq____&quot;^15logseq____&quot;,[97,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^17logseq____&quot;,3],536870926]],[logseq____&quot;^15logseq____&quot;,[97,logseq____&quot;^Jlogseq____&quot;,[],536870926]],[logseq____&quot;^15logseq____&quot;,[97,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-405b-493f-9587-4fb28dae95e4logseq____&quot;,536870926]],[logseq____&quot;^15logseq____&quot;,[98,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;### 简述\\n\\n+ slru用来干什么？\\n  + slru是一个简单的buffer管理模块，simple slru\\n+ 有了buffer pool manager，为什么还要slru？\\n  + bpm管理通用的page，比如heap，vm等\\n  + slru最大的特点就是lru，非常适合处理xid这样，递增的信息。\\n+ 下面的代码分析基于pg15logseq____&quot;,536870926]],[logseq____&quot;^15logseq____&quot;,[98,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870926]],[logseq____&quot;^15logseq____&quot;,[98,logseq____&quot;^Flogseq____&quot;,99,536870926]],[logseq____&quot;^15logseq____&quot;,[98,logseq____&quot;^Xlogseq____&quot;,21,536870926]],[logseq____&quot;^15logseq____&quot;,[98,logseq____&quot;^Vlogseq____&quot;,21,536870926]],[logseq____&quot;^15logseq____&quot;,[98,logseq____&quot;^Ulogseq____&quot;,21,536870926]],[logseq____&quot;^15logseq____&quot;,[98,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^17logseq____&quot;,3],536870926]],[logseq____&quot;^15logseq____&quot;,[98,logseq____&quot;^Jlogseq____&quot;,[],536870926]],[logseq____&quot;^15logseq____&quot;,[98,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-a605-482d-bb1e-c3189ebf33a7logseq____&quot;,536870926]],[logseq____&quot;^15logseq____&quot;,[99,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;本文主要为`SLRU`本身的结构解读。 #SLRU_IMPLEMENTlogseq____&quot;,536870926]],[logseq____&quot;^15logseq____&quot;,[99,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870926]],[logseq____&quot;^15logseq____&quot;,[99,logseq____&quot;^Flogseq____&quot;,21,536870926]],[logseq____&quot;^15logseq____&quot;,[99,logseq____&quot;^Xlogseq____&quot;,21,536870926]],[logseq____&quot;^15logseq____&quot;,[99,logseq____&quot;^Vlogseq____&quot;,21,536870926]],[logseq____&quot;^15logseq____&quot;,[99,logseq____&quot;^Ulogseq____&quot;,21,536870926]],[logseq____&quot;^15logseq____&quot;,[99,logseq____&quot;^Ulogseq____&quot;,47,536870926]],[logseq____&quot;^15logseq____&quot;,[99,logseq____&quot;^Hlogseq____&quot;,47,536870926]],[logseq____&quot;^15logseq____&quot;,[99,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-87ab-4343-8d9b-1dd3e38afeb3logseq____&quot;,536870926]],[logseq____&quot;^15logseq____&quot;,[100,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;####  内存slrulogseq____&quot;,536870926]],[logseq____&quot;^15logseq____&quot;,[100,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870926]],[logseq____&quot;^15logseq____&quot;,[100,logseq____&quot;^Flogseq____&quot;,96,536870926]],[logseq____&quot;^15logseq____&quot;,[100,logseq____&quot;^Xlogseq____&quot;,21,536870926]],[logseq____&quot;^15logseq____&quot;,[100,logseq____&quot;^Vlogseq____&quot;,21,536870926]],[logseq____&quot;^15logseq____&quot;,[100,logseq____&quot;^Ulogseq____&quot;,21,536870926]],[logseq____&quot;^15logseq____&quot;,[100,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^17logseq____&quot;,4],536870926]],[logseq____&quot;^15logseq____&quot;,[100,logseq____&quot;^Jlogseq____&quot;,[],536870926]],[logseq____&quot;^15logseq____&quot;,[100,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-e35b-413f-8704-e4db56d73ef4logseq____&quot;,536870926]],[logseq____&quot;^15logseq____&quot;,[101,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;#### interface\\n\\n* 新增一个 `page` 到buffer。\\n```C\\n/* Initialize (or reinitialize) a page to zeroes. */\\nint\\nSimpleLruZeroPage(SlruCtl ctl, int pageno)\\n{\\nslotno = SlruSelectLRUPage(ctl, pageno);\\nSlruRecentlyUsed(shared, slotno);\\n\\n# SlruSelectLRUPage may return a in-use page, we must clear it\\nMemSet(shared-logseq____&gt;page_buffer[slotno], 0, BLCKSZ);\\n\\nSimpleLruZeroLSNs(ctl, slotno);\\n}\\n```\\n\\n* 从 `disk` 中读取一个 `page`\\n```C\\n/* Control lock must be held at entry, and will be held at exit. */\\nSimpleLruReadPage\\n{\\n  #infinite loop\\n      slotno = SlruSelectLRUPage(ctl, pageno);\\n      # for in IO slots, just wait\\n      /* update in-memory status */\\n      shared-logseq____&gt;page_number[slotno] = pageno;\\n      shared-logseq____&gt;page_status[slotno] = SLRU_PAGE_READ_IN_PROGRESS;\\n      shared-logseq____&gt;page_dirty[slotno] = false;\\n\\n      /* Acquire per-buffer lock and release control lock */\\n      LWLockAcquire(logseq____&amp;shared-logseq____&gt;buffer_locks[slotno].lock, LW_EXCLUSIVE);\\n      LWLockRelease(shared-logseq____&gt;ControlLock);\\n\\n      ok = SlruPhysicalReadPage(ctl, pageno, slotno);\\n\\n      /* re-acquire control lock */\\n      LWLockAcquire(shared-logseq____&gt;ControlLock, LW_EXCLUSIVE);\\n      # others\\n}\\n```\\n这里的锁设计很特别：\\n1. 在 `SlruSelectLRUPage` 需要获取全局锁\\n2. 在 `SimpleLruReadPage` 中，先初始化内存，再获取 `per-buffer` 锁，同时释放 `ControlLock`\\n\\n在看函数 `SimpleLruZeroPage`\\n```C\\n/* Control lock must be held at entry, and will be held at exit. */\\nSimpleLruZeroPage\\n{\\n  slotno = SlruSelectLRUPage(ctl, pageno);\\n  shared-logseq____&gt;page_number[slotno] = pageno;\\n  shared-logseq____&gt;page_status[slotno] = SLRU_PAGE_VALID;\\n  shared-logseq____&gt;page_dirty[slotno] = true;\\n}\\n```\\n难道，一旦获取 `ControlLock`，即可对任意 `slot` 进行修改？\\n\\n实际上，`SimpleLruReadPage` 读取的 `page`，必须已存在于磁盘（或者经由 `WAL` 来保证）。\\n而 `SimpleLruZeroPage` 所初始化的 `page` 必须不存在。从使用逻辑上保证二者不产生冲突。\\n\\n* SimpleLruWritePage(SlruInternalWritePage)\\n\\n```C\\n/* Control lock must be held at entry, and will be held at exit. */\\nSlruInternalWritePage\\n{\\n  /* If a write is in progress, wait for it to finish */\\n  /* Do nothing if page is not dirty */\\n\\n  /* update in-memory status */\\n  shared-logseq____&gt;page_status[slotno] = SLRU_PAGE_WRITE_IN_PROGRESS;\\n  shared-logseq____&gt;page_dirty[slotno] = false;\\n\\n  /* Acquire per-buffer lock and release control lock */\\n  LWLockAcquire(logseq____&amp;shared-logseq____&gt;buffer_locks[slotno].lock, LW_EXCLUSIVE);\\n  LWLockRelease(shared-logseq____&gt;ControlLock);\\n\\n  SlruPhysicalWritePage(ctl, pageno, slotno, fdata);\\n\\n  /* re-acquire control lock */\\n  LWLockAcquire(shared-logseq____&gt;ControlLock, LW_EXCLUSIVE);\\n\\n  shared-logseq____&gt;page_status[slotno] = SLRU_PAGE_VALID;\\n}\\n```logseq____&quot;,536870926]],[logseq____&quot;^15logseq____&quot;,[101,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870926]],[logseq____&quot;^15logseq____&quot;,[101,logseq____&quot;^Flogseq____&quot;,103,536870926]],[logseq____&quot;^15logseq____&quot;,[101,logseq____&quot;^Xlogseq____&quot;,21,536870926]],[logseq____&quot;^15logseq____&quot;,[101,logseq____&quot;^Vlogseq____&quot;,21,536870926]],[logseq____&quot;^15logseq____&quot;,[101,logseq____&quot;^Ulogseq____&quot;,21,536870926]],[logseq____&quot;^15logseq____&quot;,[101,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^17logseq____&quot;,4],536870926]],[logseq____&quot;^15logseq____&quot;,[101,logseq____&quot;^Jlogseq____&quot;,[],536870926]],[logseq____&quot;^15logseq____&quot;,[101,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-6fa8-4ef7-927f-3405a901f9b5logseq____&quot;,536870926]],[logseq____&quot;^15logseq____&quot;,[102,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;##### 全局 buffer 数组\\n\\n```C\\ntypedef struct SlruSharedData\\n{\\nLWLock\\t   *ControlLock;\\n\\n/* Number of buffers managed by this SLRU structure */\\nint\\t\\t\\tnum_slots;\\n\\n/*\\n* Arrays holding info for each buffer slot.  Page number is undefined\\n* when status is EMPTY, as is page_lru_count.\\n*/\\nchar\\t  **page_buffer;\\nSlruPageStatus *page_status;\\nbool\\t   *page_dirty;\\nint\\t\\t   *page_number;\\nint\\t\\t   *page_lru_count;\\nLWLockPadded *buffer_locks;\\n\\n  XLogRecPtr *group_lsn;\\nint\\t\\t\\tlsn_groups_per_page;\\n\\n/*----------\\n* We mark a page \\logseq____&quot;most recently used\\logseq____&quot; by setting\\n*\\t\\tpage_lru_count[slotno] = ++cur_lru_count;\\n* The oldest page is therefore the one with the highest value of\\n*\\t\\tcur_lru_count - page_lru_count[slotno]\\n* The counts will eventually wrap around, but this calculation still\\n* works as long as no pagelogseq____&apos;s age exceeds INT_MAX counts.\\n*----------\\n*/\\nint\\t\\t\\tcur_lru_count;\\n} SlruSharedData;\\n```\\n\\n从内存结构上看，是一个数组，每个元素代表一个page。同时，记录这些page的使用次数。\\n\\n```C\\npage_lru_count[slotno] = ++cur_lru_count;\\n```\\n\\n同时每个page，都有状态标识，以在刷脏时，确定脏页。实际上这里没有脏页这个选项，因为只有 `valid` 状态的页才有可能是脏页，有包含关系。故在`SlruSharedData` 中使用 `page_dirty` 进行单独标识。\\n\\n```C\\ntypedef enum\\n{\\nSLRU_PAGE_EMPTY,\\t\\t\\t/* buffer is not in use */\\nSLRU_PAGE_READ_IN_PROGRESS, /* page is being read in */\\nSLRU_PAGE_VALID,\\t\\t\\t/* page is valid and not being written */\\nSLRU_PAGE_WRITE_IN_PROGRESS /* page is being written out */\\n} SlruPageStatus;\\n```\\n关于为什么需要记录LSN信息 `group_lsn`：这与 `WAL` 设计有关。对于 `WAL` 而言，无论是同步提交或是异步提交，都需要在对应的 `buffer page` 落盘前落盘,所以 `slru` 也需要满足这样的规则。同时，可能是为了节约内存（节约的内存实在有限），或是减少`WAL flush`的调用次数以增加 `IO` 效率，`slru`的实现中并不记录每个`buffer page`的 `LSN`，而是记录一组 `page` 的 `LSN`，在刷下一个 `page` 前，需要把一组 `page` 中最大的 `LSN` 前的 `WAL` 落盘。而这样的“一组”的长度，就为`lsn_groups_per_page`logseq____&quot;,536870926]],[logseq____&quot;^15logseq____&quot;,[102,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870926]],[logseq____&quot;^15logseq____&quot;,[102,logseq____&quot;^Flogseq____&quot;,100,536870926]],[logseq____&quot;^15logseq____&quot;,[102,logseq____&quot;^Xlogseq____&quot;,21,536870926]],[logseq____&quot;^15logseq____&quot;,[102,logseq____&quot;^Vlogseq____&quot;,21,536870926]],[logseq____&quot;^15logseq____&quot;,[102,logseq____&quot;^Ulogseq____&quot;,21,536870926]],[logseq____&quot;^15logseq____&quot;,[102,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^17logseq____&quot;,5],536870926]],[logseq____&quot;^15logseq____&quot;,[102,logseq____&quot;^Jlogseq____&quot;,[],536870926]],[logseq____&quot;^15logseq____&quot;,[102,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-011d-4ca6-a740-a8118451becflogseq____&quot;,536870926]],[logseq____&quot;^15logseq____&quot;,[103,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;#### 基础函数\\n\\n* 选择一个空slot\\n\\n```C\\n/* Select the slot to re-use when we need a free slot. */\\n/* Control lock must be held at entry, and will be held at exit. */\\nstatic int\\nSlruSelectLRUPage(SlruCtl ctl, int pageno)\\n{\\nfor (;;)\\n# return if we have such a slot\\n# return if we have an empty slot \\logseq____&quot;SLRU_PAGE_EMPTY\\logseq____&quot;\\n# select a lru slot\\n\\t# return it if itlogseq____&apos;s clean. Or\\n\\t# victim it if dirty\\n# loop end -- Itlogseq____&apos;s a very clever design to dealing with corner cases\\n#             such as the victim page being re-dirtied while we wrote it.\\n}\\n```\\n\\n* 记录一个\\logseq____&quot;most recently used\\logseq____&quot;的page，`cur_lru_count++` 并用其赋值 \\n\\n```C\\n#define SlruRecentlyUsed(shared, slotno)\\t\\\\\\ndo { \\\\\\nint\\t\\tnew_lru_count = (shared)-logseq____&gt;cur_lru_count; \\\\\\nif (new_lru_count != (shared)-logseq____&gt;page_lru_count[slotno]) { \\\\\\n\\t(shared)-logseq____&gt;cur_lru_count = ++new_lru_count; \\\\\\n\\t(shared)-logseq____&gt;page_lru_count[slotno] = new_lru_count; \\\\\\n} \\\\\\n} while (0)\\n```\\n\\n* 从磁盘中读取一个 `page`\\n\\n```C\\nSlruPhysicalReadPage\\n{\\n  int\\tsegno = pageno / SLRU_PAGES_PER_SEGMENT;\\n  SlruFileName(ctl, path, segno);\\n\\n  /*\\n   * In a crash-and-restart situation, itlogseq____&apos;s possible for us to receive\\n   * commands to set the commit status of transactions whose bits are in\\n   * already-truncated segments of the commit log\\n   */\\n  fd = OpenTransientFile(path, O_RDONLY | PG_BINARY);\\n  if (fd logseq____&lt; 0 logseq____&amp;logseq____&amp; !InRecovery) ereport()\\n\\n  pg_pread(fd, shared-logseq____&gt;page_buffer[slotno], BLCKSZ, offset)\\n}\\n```\\n\\n* 向磁盘中写入一个 `page`\\n\\n```C\\nSlruPhysicalWritePage\\n{\\n  /* We must flush WAL before flush slru pages */\\n  if (shared-logseq____&gt;group_lsn != NULL)\\n  {\\n      max_lsn = shared-logseq____&gt;group_lsn[lsnindex++];\\n      XLogFlush(max_lsn);\\n  }\\n\\n  SlruFileName(ctl, path, segno);\\n  fd = OpenTransientFile(path, O_RDWR | O_CREAT | PG_BINARY);\\n  pg_pwrite(fd, shared-logseq____&gt;page_buffer[slotno], BLCKSZ, offset)\\n  /* Queue up a sync request for the checkpointer. */\\n  ...\\n}\\n```logseq____&quot;,536870926]],[logseq____&quot;^15logseq____&quot;,[103,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870926]],[logseq____&quot;^15logseq____&quot;,[103,logseq____&quot;^Flogseq____&quot;,97,536870926]],[logseq____&quot;^15logseq____&quot;,[103,logseq____&quot;^Xlogseq____&quot;,21,536870926]],[logseq____&quot;^15logseq____&quot;,[103,logseq____&quot;^Vlogseq____&quot;,21,536870926]],[logseq____&quot;^15logseq____&quot;,[103,logseq____&quot;^Ulogseq____&quot;,21,536870926]],[logseq____&quot;^15logseq____&quot;,[103,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^17logseq____&quot;,4],536870926]],[logseq____&quot;^15logseq____&quot;,[103,logseq____&quot;^Jlogseq____&quot;,[],536870926]],[logseq____&quot;^15logseq____&quot;,[103,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-65a8-4d9d-84a2-ef1e456a367alogseq____&quot;,536870926]],[logseq____&quot;^15logseq____&quot;,[104,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;##### 各个进程私有的pointer\\n\\n```C\\n\\n/*\\n* SlruCtlData is an unshared structure that points to the active information\\n* in shared memory.\\n*/\\ntypedef struct SlruCtlData\\n{\\nSlruShared\\tshared;\\n\\n/*\\n* Decide whether a page is \\logseq____&quot;older\\logseq____&quot; for truncation and as a hint for\\n* evicting pages in LRU order.  \\n*/\\nbool\\t\\t(*PagePrecedes) (int, int);\\n\\n/*\\n* Dir is set during SimpleLruInit and does not change thereafter. Since\\n* itlogseq____&apos;s always the same, it doesnlogseq____&apos;t need to be in shared memory.\\n*/\\nchar\\t\\tDir[64];\\n} SlruCtlData;\\n```\\n\\n初始化时，即返回一个`SlruCtlData`。`Dir` 是初始化时的标记，不同模块会填充对应的名称。logseq____&quot;,536870926]],[logseq____&quot;^15logseq____&quot;,[104,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870926]],[logseq____&quot;^15logseq____&quot;,[104,logseq____&quot;^Flogseq____&quot;,102,536870926]],[logseq____&quot;^15logseq____&quot;,[104,logseq____&quot;^Xlogseq____&quot;,21,536870926]],[logseq____&quot;^15logseq____&quot;,[104,logseq____&quot;^Vlogseq____&quot;,21,536870926]],[logseq____&quot;^15logseq____&quot;,[104,logseq____&quot;^Ulogseq____&quot;,21,536870926]],[logseq____&quot;^15logseq____&quot;,[104,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^17logseq____&quot;,5],536870926]],[logseq____&quot;^15logseq____&quot;,[104,logseq____&quot;^Jlogseq____&quot;,[],536870926]],[logseq____&quot;^15logseq____&quot;,[104,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-aa71-402e-94da-56036c1af8a8logseq____&quot;,536870926]],[logseq____&quot;^15logseq____&quot;,[106,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;Data written to unlogged tables is **not written to the write-ahead log** which makes them considerably **faster** than ordinary tables. However, they are **not crash-safe**: an unlogged **table is automatically truncated** after a crash or unclean shutdown. The contents of an unlogged table are also **not replicated to standby servers**. Any indexes created on an unlogged table are automatically unlogged as well.logseq____&quot;,536870927]],[logseq____&quot;^15logseq____&quot;,[106,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870927]],[logseq____&quot;^15logseq____&quot;,[106,logseq____&quot;^Flogseq____&quot;,28,536870927]],[logseq____&quot;^15logseq____&quot;,[106,logseq____&quot;^Xlogseq____&quot;,28,536870927]],[logseq____&quot;^15logseq____&quot;,[106,logseq____&quot;^Vlogseq____&quot;,28,536870927]],[logseq____&quot;^15logseq____&quot;,[106,logseq____&quot;^Ulogseq____&quot;,28,536870927]],[logseq____&quot;^15logseq____&quot;,[106,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-5c72-4fbb-a0be-7df6dc8473a2logseq____&quot;,536870927]],[logseq____&quot;^15logseq____&quot;,[107,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;If this is specified, any sequences created together with the unlogged table (for identity or serial columns) are also created as unlogged.logseq____&quot;,536870927]],[logseq____&quot;^15logseq____&quot;,[107,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870927]],[logseq____&quot;^15logseq____&quot;,[107,logseq____&quot;^Flogseq____&quot;,106,536870927]],[logseq____&quot;^15logseq____&quot;,[107,logseq____&quot;^Xlogseq____&quot;,28,536870927]],[logseq____&quot;^15logseq____&quot;,[107,logseq____&quot;^Vlogseq____&quot;,28,536870927]],[logseq____&quot;^15logseq____&quot;,[107,logseq____&quot;^Ulogseq____&quot;,28,536870927]],[logseq____&quot;^15logseq____&quot;,[107,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-b175-4d32-90cb-83963360d993logseq____&quot;,536870927]],[logseq____&quot;^15logseq____&quot;,[108,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;Data written to unlogged tables is not written to the write-ahead log (see [Chapter 30](https://www.postgresql.org/docs/current/wal.html)), which makes them considerably faster than ordinary tables. However, they are not crash-safe: an unlogged table is automatically truncated after a crash or unclean shutdown. The contents of an unlogged table are also not replicated to standby servers. Any indexes created on an unlogged table are automatically unlogged as well.logseq____&quot;,536870927]],[logseq____&quot;^15logseq____&quot;,[108,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870927]],[logseq____&quot;^15logseq____&quot;,[108,logseq____&quot;^Flogseq____&quot;,107,536870927]],[logseq____&quot;^15logseq____&quot;,[108,logseq____&quot;^Xlogseq____&quot;,28,536870927]],[logseq____&quot;^15logseq____&quot;,[108,logseq____&quot;^Vlogseq____&quot;,28,536870927]],[logseq____&quot;^15logseq____&quot;,[108,logseq____&quot;^Ulogseq____&quot;,28,536870927]],[logseq____&quot;^15logseq____&quot;,[108,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-f8b4-4932-bfb9-2ac226411023logseq____&quot;,536870927]],[logseq____&quot;^15logseq____&quot;,[109,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;If this is specified, any sequences created together with the unlogged table (for identity or serial columns) are also created as unlogged.logseq____&quot;,536870927]],[logseq____&quot;^15logseq____&quot;,[109,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870927]],[logseq____&quot;^15logseq____&quot;,[109,logseq____&quot;^Flogseq____&quot;,108,536870927]],[logseq____&quot;^15logseq____&quot;,[109,logseq____&quot;^Xlogseq____&quot;,28,536870927]],[logseq____&quot;^15logseq____&quot;,[109,logseq____&quot;^Vlogseq____&quot;,28,536870927]],[logseq____&quot;^15logseq____&quot;,[109,logseq____&quot;^Ulogseq____&quot;,28,536870927]],[logseq____&quot;^15logseq____&quot;,[109,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-8a4c-448d-b25d-1cacd9f9f2a1logseq____&quot;,536870927]],[logseq____&quot;^15logseq____&quot;,[111,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## XLogRegisterBuffer #wallogseq____&quot;,536870928]],[logseq____&quot;^15logseq____&quot;,[111,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870928]],[logseq____&quot;^15logseq____&quot;,[111,logseq____&quot;^Flogseq____&quot;,118,536870928]],[logseq____&quot;^15logseq____&quot;,[111,logseq____&quot;^Xlogseq____&quot;,27,536870928]],[logseq____&quot;^15logseq____&quot;,[111,logseq____&quot;^Vlogseq____&quot;,27,536870928]],[logseq____&quot;^15logseq____&quot;,[111,logseq____&quot;^Ulogseq____&quot;,27,536870928]],[logseq____&quot;^15logseq____&quot;,[111,logseq____&quot;^Ulogseq____&quot;,48,536870928]],[logseq____&quot;^15logseq____&quot;,[111,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^17logseq____&quot;,2],536870928]],[logseq____&quot;^15logseq____&quot;,[111,logseq____&quot;^Jlogseq____&quot;,[],536870928]],[logseq____&quot;^15logseq____&quot;,[111,logseq____&quot;^Hlogseq____&quot;,48,536870928]],[logseq____&quot;^15logseq____&quot;,[111,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-b775-41f8-b258-ac492b3f73ddlogseq____&quot;,536870928]],[logseq____&quot;^15logseq____&quot;,[112,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;add record to the main chunklogseq____&quot;,536870928]],[logseq____&quot;^15logseq____&quot;,[112,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870928]],[logseq____&quot;^15logseq____&quot;,[112,logseq____&quot;^Flogseq____&quot;,120,536870928]],[logseq____&quot;^15logseq____&quot;,[112,logseq____&quot;^Xlogseq____&quot;,27,536870928]],[logseq____&quot;^15logseq____&quot;,[112,logseq____&quot;^Vlogseq____&quot;,120,536870928]],[logseq____&quot;^15logseq____&quot;,[112,logseq____&quot;^Ulogseq____&quot;,27,536870928]],[logseq____&quot;^15logseq____&quot;,[112,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-21bd-45dd-a62e-e87200f71ab9logseq____&quot;,536870928]],[logseq____&quot;^15logseq____&quot;,[113,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;just to record a bufferlogseq____&quot;,536870928]],[logseq____&quot;^15logseq____&quot;,[113,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870928]],[logseq____&quot;^15logseq____&quot;,[113,logseq____&quot;^Flogseq____&quot;,111,536870928]],[logseq____&quot;^15logseq____&quot;,[113,logseq____&quot;^Xlogseq____&quot;,27,536870928]],[logseq____&quot;^15logseq____&quot;,[113,logseq____&quot;^Vlogseq____&quot;,111,536870928]],[logseq____&quot;^15logseq____&quot;,[113,logseq____&quot;^Ulogseq____&quot;,27,536870928]],[logseq____&quot;^15logseq____&quot;,[113,logseq____&quot;^Ulogseq____&quot;,48,536870928]],[logseq____&quot;^15logseq____&quot;,[113,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-fa44-4734-a6ad-5211edf22381logseq____&quot;,536870928]],[logseq____&quot;^15logseq____&quot;,[114,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## XLogRegisterBufDatalogseq____&quot;,536870928]],[logseq____&quot;^15logseq____&quot;,[114,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870928]],[logseq____&quot;^15logseq____&quot;,[114,logseq____&quot;^Flogseq____&quot;,120,536870928]],[logseq____&quot;^15logseq____&quot;,[114,logseq____&quot;^Xlogseq____&quot;,27,536870928]],[logseq____&quot;^15logseq____&quot;,[114,logseq____&quot;^Vlogseq____&quot;,27,536870928]],[logseq____&quot;^15logseq____&quot;,[114,logseq____&quot;^Ulogseq____&quot;,27,536870928]],[logseq____&quot;^15logseq____&quot;,[114,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^17logseq____&quot;,2],536870928]],[logseq____&quot;^15logseq____&quot;,[114,logseq____&quot;^Jlogseq____&quot;,[],536870928]],[logseq____&quot;^15logseq____&quot;,[114,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-4b15-474d-968c-111c37bfb293logseq____&quot;,536870928]],[logseq____&quot;^15logseq____&quot;,[115,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```\\nXLogRegisterData\\nrdata = logseq____&amp;rdatas[num_rdatas++];\\nrdata-logseq____&gt;data = data;\\nrdata-logseq____&gt;len = len;\\nmainrdata_last-logseq____&gt;next = rdata;\\nmainrdata_last = rdata;\\nmainrdata_len += len;\\n```logseq____&quot;,536870928]],[logseq____&quot;^15logseq____&quot;,[115,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870928]],[logseq____&quot;^15logseq____&quot;,[115,logseq____&quot;^Flogseq____&quot;,112,536870928]],[logseq____&quot;^15logseq____&quot;,[115,logseq____&quot;^Xlogseq____&quot;,27,536870928]],[logseq____&quot;^15logseq____&quot;,[115,logseq____&quot;^Vlogseq____&quot;,120,536870928]],[logseq____&quot;^15logseq____&quot;,[115,logseq____&quot;^Ulogseq____&quot;,27,536870928]],[logseq____&quot;^15logseq____&quot;,[115,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-8a06-421b-8e90-0ec6631e4ba0logseq____&quot;,536870928]],[logseq____&quot;^15logseq____&quot;,[116,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```\\nXLogRegisterBufData\\n  regbuf = logseq____&amp;registered_buffers[block_id];\\n  rdata = logseq____&amp;rdatas[num_rdatas++];\\n\\n  rdata-logseq____&gt;data = data;\\n  rdata-logseq____&gt;len = len;\\n\\n  regbuf-logseq____&gt;rdata_tail-logseq____&gt;next = rdata;\\n  regbuf-logseq____&gt;rdata_tail = rdata;\\n  regbuf-logseq____&gt;rdata_len += len;\\n```logseq____&quot;,536870928]],[logseq____&quot;^15logseq____&quot;,[116,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870928]],[logseq____&quot;^15logseq____&quot;,[116,logseq____&quot;^Flogseq____&quot;,122,536870928]],[logseq____&quot;^15logseq____&quot;,[116,logseq____&quot;^Xlogseq____&quot;,27,536870928]],[logseq____&quot;^15logseq____&quot;,[116,logseq____&quot;^Vlogseq____&quot;,114,536870928]],[logseq____&quot;^15logseq____&quot;,[116,logseq____&quot;^Ulogseq____&quot;,27,536870928]],[logseq____&quot;^15logseq____&quot;,[116,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-c1da-4fa1-9a41-f5b1eb6f995flogseq____&quot;,536870928]],[logseq____&quot;^15logseq____&quot;,[117,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```\\nXLogRegisterBuffer\\n  regbuf = logseq____&amp;registered_buffers[block_id];\\n  BufferGetTag(buffer, logseq____&amp;regbuf-logseq____&gt;rlocator, logseq____&amp;regbuf-logseq____&gt;forkno, regbuf-logseq____&gt;block);\\n  regbuf-logseq____&gt;page = BufferGetPage(buffer);\\n  regbuf-logseq____&gt;flags = flags;\\n  regbuf-logseq____&gt;rdata_tail = (XLogRecData *) logseq____&amp;regbuf-logseq____&gt;rdata_head;\\n  regbuf-logseq____&gt;rdata_len = 0;\\n  gbuf-logseq____&gt;rdata_tail = (XLogRecData *) logseq____&amp;regbuf-logseq____&gt;rdata_head;\\n  regbuf-logseq____&gt;rdata_len = 0;\\n```logseq____&quot;,536870928]],[logseq____&quot;^15logseq____&quot;,[117,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870928]],[logseq____&quot;^15logseq____&quot;,[117,logseq____&quot;^Flogseq____&quot;,113,536870928]],[logseq____&quot;^15logseq____&quot;,[117,logseq____&quot;^Xlogseq____&quot;,27,536870928]],[logseq____&quot;^15logseq____&quot;,[117,logseq____&quot;^Vlogseq____&quot;,111,536870928]],[logseq____&quot;^15logseq____&quot;,[117,logseq____&quot;^Ulogseq____&quot;,27,536870928]],[logseq____&quot;^15logseq____&quot;,[117,logseq____&quot;^Ulogseq____&quot;,48,536870928]],[logseq____&quot;^15logseq____&quot;,[117,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-747d-411c-93cb-d69c5a846cd1logseq____&quot;,536870928]],[logseq____&quot;^15logseq____&quot;,[118,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;![🖼 wal-record-structure.png](../assets/wal-record-structure.png)logseq____&quot;,536870928]],[logseq____&quot;^15logseq____&quot;,[118,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870928]],[logseq____&quot;^15logseq____&quot;,[118,logseq____&quot;^Flogseq____&quot;,27,536870928]],[logseq____&quot;^15logseq____&quot;,[118,logseq____&quot;^Xlogseq____&quot;,27,536870928]],[logseq____&quot;^15logseq____&quot;,[118,logseq____&quot;^Vlogseq____&quot;,27,536870928]],[logseq____&quot;^15logseq____&quot;,[118,logseq____&quot;^Ulogseq____&quot;,27,536870928]],[logseq____&quot;^15logseq____&quot;,[118,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-6c26-46ef-9c87-bbd6d8087fdalogseq____&quot;,536870928]],[logseq____&quot;^15logseq____&quot;,[119,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;value we need from parameterslogseq____&quot;,536870928]],[logseq____&quot;^15logseq____&quot;,[119,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870928]],[logseq____&quot;^15logseq____&quot;,[119,logseq____&quot;^Flogseq____&quot;,121,536870928]],[logseq____&quot;^15logseq____&quot;,[119,logseq____&quot;^Xlogseq____&quot;,27,536870928]],[logseq____&quot;^15logseq____&quot;,[119,logseq____&quot;^Vlogseq____&quot;,123,536870928]],[logseq____&quot;^15logseq____&quot;,[119,logseq____&quot;^Ulogseq____&quot;,27,536870928]],[logseq____&quot;^15logseq____&quot;,[119,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-eb22-4c10-93a4-e8a68a85a9e8logseq____&quot;,536870928]],[logseq____&quot;^15logseq____&quot;,[120,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## XLogRegisterDatalogseq____&quot;,536870928]],[logseq____&quot;^15logseq____&quot;,[120,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870928]],[logseq____&quot;^15logseq____&quot;,[120,logseq____&quot;^Flogseq____&quot;,123,536870928]],[logseq____&quot;^15logseq____&quot;,[120,logseq____&quot;^Xlogseq____&quot;,27,536870928]],[logseq____&quot;^15logseq____&quot;,[120,logseq____&quot;^Vlogseq____&quot;,27,536870928]],[logseq____&quot;^15logseq____&quot;,[120,logseq____&quot;^Ulogseq____&quot;,27,536870928]],[logseq____&quot;^15logseq____&quot;,[120,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^17logseq____&quot;,2],536870928]],[logseq____&quot;^15logseq____&quot;,[120,logseq____&quot;^Jlogseq____&quot;,[],536870928]],[logseq____&quot;^15logseq____&quot;,[120,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-61f0-4db5-bb54-1bdd50e3d454logseq____&quot;,536870928]],[logseq____&quot;^15logseq____&quot;,[121,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```\\nvoid\\nXLogRegisterBlock(uint8 block_id, RelFileLocator *rlocator, ForkNumberforknum,\\n                  BlockNumber blknum, Page page, uint8 flags)\\n```logseq____&quot;,536870928]],[logseq____&quot;^15logseq____&quot;,[121,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870928]],[logseq____&quot;^15logseq____&quot;,[121,logseq____&quot;^Flogseq____&quot;,123,536870928]],[logseq____&quot;^15logseq____&quot;,[121,logseq____&quot;^Xlogseq____&quot;,27,536870928]],[logseq____&quot;^15logseq____&quot;,[121,logseq____&quot;^Vlogseq____&quot;,123,536870928]],[logseq____&quot;^15logseq____&quot;,[121,logseq____&quot;^Ulogseq____&quot;,27,536870928]],[logseq____&quot;^15logseq____&quot;,[121,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-b2a7-46dd-8ef3-8c3f7cf89894logseq____&quot;,536870928]],[logseq____&quot;^15logseq____&quot;,[122,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;like `XLogRegisterData` but register with thespecific bufferlogseq____&quot;,536870928]],[logseq____&quot;^15logseq____&quot;,[122,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870928]],[logseq____&quot;^15logseq____&quot;,[122,logseq____&quot;^Flogseq____&quot;,114,536870928]],[logseq____&quot;^15logseq____&quot;,[122,logseq____&quot;^Xlogseq____&quot;,27,536870928]],[logseq____&quot;^15logseq____&quot;,[122,logseq____&quot;^Vlogseq____&quot;,114,536870928]],[logseq____&quot;^15logseq____&quot;,[122,logseq____&quot;^Ulogseq____&quot;,27,536870928]],[logseq____&quot;^15logseq____&quot;,[122,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-fb8a-4b6f-8e58-055a4630974clogseq____&quot;,536870928]],[logseq____&quot;^15logseq____&quot;,[123,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## XLogRegisterBlocklogseq____&quot;,536870928]],[logseq____&quot;^15logseq____&quot;,[123,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870928]],[logseq____&quot;^15logseq____&quot;,[123,logseq____&quot;^Flogseq____&quot;,111,536870928]],[logseq____&quot;^15logseq____&quot;,[123,logseq____&quot;^Xlogseq____&quot;,27,536870928]],[logseq____&quot;^15logseq____&quot;,[123,logseq____&quot;^Vlogseq____&quot;,27,536870928]],[logseq____&quot;^15logseq____&quot;,[123,logseq____&quot;^Ulogseq____&quot;,27,536870928]],[logseq____&quot;^15logseq____&quot;,[123,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^17logseq____&quot;,2],536870928]],[logseq____&quot;^15logseq____&quot;,[123,logseq____&quot;^Jlogseq____&quot;,[],536870928]],[logseq____&quot;^15logseq____&quot;,[123,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-e139-4eee-90eb-bf3f8dc9c1f3logseq____&quot;,536870928]],[logseq____&quot;^15logseq____&quot;,[125,logseq____&quot;^Klogseq____&quot;,1703171764375,536870929]],[logseq____&quot;^15logseq____&quot;,[125,logseq____&quot;^@logseq____&quot;,false,536870929]],[logseq____&quot;^15logseq____&quot;,[125,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;fsmlogseq____&quot;,536870929]],[logseq____&quot;^15logseq____&quot;,[125,logseq____&quot;^11logseq____&quot;,logseq____&quot;fsmlogseq____&quot;,536870929]],[logseq____&quot;^15logseq____&quot;,[125,logseq____&quot;^Blogseq____&quot;,1703171764375,536870929]],[logseq____&quot;^15logseq____&quot;,[125,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-d121-45d1-a559-a12f49079ecclogseq____&quot;,536870929]],[logseq____&quot;^15logseq____&quot;,[126,logseq____&quot;^Klogseq____&quot;,1703171764376,536870929]],[logseq____&quot;^15logseq____&quot;,[126,logseq____&quot;^@logseq____&quot;,false,536870929]],[logseq____&quot;^15logseq____&quot;,[126,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;vmlogseq____&quot;,536870929]],[logseq____&quot;^15logseq____&quot;,[126,logseq____&quot;^11logseq____&quot;,logseq____&quot;vmlogseq____&quot;,536870929]],[logseq____&quot;^15logseq____&quot;,[126,logseq____&quot;^Blogseq____&quot;,1703171764376,536870929]],[logseq____&quot;^15logseq____&quot;,[126,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-8108-431f-b234-11b7da656f5clogseq____&quot;,536870929]],[logseq____&quot;^15logseq____&quot;,[127,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;Logically, a `WAL` record must contains the three parts below:logseq____&quot;,536870929]],[logseq____&quot;^15logseq____&quot;,[127,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870929]],[logseq____&quot;^15logseq____&quot;,[127,logseq____&quot;^Flogseq____&quot;,135,536870929]],[logseq____&quot;^15logseq____&quot;,[127,logseq____&quot;^Xlogseq____&quot;,33,536870929]],[logseq____&quot;^15logseq____&quot;,[127,logseq____&quot;^Vlogseq____&quot;,139,536870929]],[logseq____&quot;^15logseq____&quot;,[127,logseq____&quot;^Ulogseq____&quot;,33,536870929]],[logseq____&quot;^15logseq____&quot;,[127,logseq____&quot;^Ulogseq____&quot;,48,536870929]],[logseq____&quot;^15logseq____&quot;,[127,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-f32f-4853-92b6-5dc80296135flogseq____&quot;,536870929]],[logseq____&quot;^15logseq____&quot;,[128,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`block number`: page offsetlogseq____&quot;,536870929]],[logseq____&quot;^15logseq____&quot;,[128,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870929]],[logseq____&quot;^15logseq____&quot;,[128,logseq____&quot;^Flogseq____&quot;,133,536870929]],[logseq____&quot;^15logseq____&quot;,[128,logseq____&quot;^Xlogseq____&quot;,33,536870929]],[logseq____&quot;^15logseq____&quot;,[128,logseq____&quot;^Vlogseq____&quot;,131,536870929]],[logseq____&quot;^15logseq____&quot;,[128,logseq____&quot;^Ulogseq____&quot;,33,536870929]],[logseq____&quot;^15logseq____&quot;,[128,logseq____&quot;^Ulogseq____&quot;,48,536870929]],[logseq____&quot;^15logseq____&quot;,[128,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-da59-46b4-a538-50a60f9dd706logseq____&quot;,536870929]],[logseq____&quot;^15logseq____&quot;,[129,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;The kind of `WAL`. Different kinds of `WAL` have different modification methods\\nlogseq.order-list-type:: numberlogseq____&quot;,536870929]],[logseq____&quot;^15logseq____&quot;,[129,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870929]],[logseq____&quot;^15logseq____&quot;,[129,logseq____&quot;^Flogseq____&quot;,134,536870929]],[logseq____&quot;^15logseq____&quot;,[129,logseq____&quot;^Xlogseq____&quot;,33,536870929]],[logseq____&quot;^15logseq____&quot;,[129,logseq____&quot;^Vlogseq____&quot;,127,536870929]],[logseq____&quot;^15logseq____&quot;,[129,logseq____&quot;^Ulogseq____&quot;,33,536870929]],[logseq____&quot;^15logseq____&quot;,[129,logseq____&quot;^Ulogseq____&quot;,48,536870929]],[logseq____&quot;^15logseq____&quot;,[129,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;~:logseq.order-list-typelogseq____&quot;,logseq____&quot;numberlogseq____&quot;],536870929]],[logseq____&quot;^15logseq____&quot;,[129,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870929]],[logseq____&quot;^15logseq____&quot;,[129,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;numberlogseq____&quot;],536870929]],[logseq____&quot;^15logseq____&quot;,[129,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-a6ce-43c0-923a-32302f6d2131logseq____&quot;,536870929]],[logseq____&quot;^15logseq____&quot;,[130,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;![wal-record-structure.png](../assets/wal-record-structure.png)logseq____&quot;,536870929]],[logseq____&quot;^15logseq____&quot;,[130,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870929]],[logseq____&quot;^15logseq____&quot;,[130,logseq____&quot;^Flogseq____&quot;,135,536870929]],[logseq____&quot;^15logseq____&quot;,[130,logseq____&quot;^Xlogseq____&quot;,33,536870929]],[logseq____&quot;^15logseq____&quot;,[130,logseq____&quot;^Vlogseq____&quot;,135,536870929]],[logseq____&quot;^15logseq____&quot;,[130,logseq____&quot;^Ulogseq____&quot;,33,536870929]],[logseq____&quot;^15logseq____&quot;,[130,logseq____&quot;^Ulogseq____&quot;,48,536870929]],[logseq____&quot;^15logseq____&quot;,[130,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-94ff-4364-b02d-235ab3ae7bb3logseq____&quot;,536870929]],[logseq____&quot;^15logseq____&quot;,[131,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;Unique page IDlogseq____&quot;,536870929]],[logseq____&quot;^15logseq____&quot;,[131,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870929]],[logseq____&quot;^15logseq____&quot;,[131,logseq____&quot;^Flogseq____&quot;,127,536870929]],[logseq____&quot;^15logseq____&quot;,[131,logseq____&quot;^Xlogseq____&quot;,33,536870929]],[logseq____&quot;^15logseq____&quot;,[131,logseq____&quot;^Vlogseq____&quot;,139,536870929]],[logseq____&quot;^15logseq____&quot;,[131,logseq____&quot;^Ulogseq____&quot;,33,536870929]],[logseq____&quot;^15logseq____&quot;,[131,logseq____&quot;^Ulogseq____&quot;,48,536870929]],[logseq____&quot;^15logseq____&quot;,[131,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-a0ac-45cd-8f94-b10bac359932logseq____&quot;,536870929]],[logseq____&quot;^15logseq____&quot;,[132,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;The way to modify the page\\nlogseq.order-list-type:: numberlogseq____&quot;,536870929]],[logseq____&quot;^15logseq____&quot;,[132,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870929]],[logseq____&quot;^15logseq____&quot;,[132,logseq____&quot;^Flogseq____&quot;,129,536870929]],[logseq____&quot;^15logseq____&quot;,[132,logseq____&quot;^Xlogseq____&quot;,33,536870929]],[logseq____&quot;^15logseq____&quot;,[132,logseq____&quot;^Vlogseq____&quot;,127,536870929]],[logseq____&quot;^15logseq____&quot;,[132,logseq____&quot;^Ulogseq____&quot;,33,536870929]],[logseq____&quot;^15logseq____&quot;,[132,logseq____&quot;^Ulogseq____&quot;,48,536870929]],[logseq____&quot;^15logseq____&quot;,[132,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;numberlogseq____&quot;],536870929]],[logseq____&quot;^15logseq____&quot;,[132,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870929]],[logseq____&quot;^15logseq____&quot;,[132,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;numberlogseq____&quot;],536870929]],[logseq____&quot;^15logseq____&quot;,[132,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-4db8-4956-be16-dbd20ef4baa6logseq____&quot;,536870929]],[logseq____&quot;^15logseq____&quot;,[133,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`relfilelocator`: which relationlogseq____&quot;,536870929]],[logseq____&quot;^15logseq____&quot;,[133,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870929]],[logseq____&quot;^15logseq____&quot;,[133,logseq____&quot;^Flogseq____&quot;,137,536870929]],[logseq____&quot;^15logseq____&quot;,[133,logseq____&quot;^Xlogseq____&quot;,33,536870929]],[logseq____&quot;^15logseq____&quot;,[133,logseq____&quot;^Vlogseq____&quot;,131,536870929]],[logseq____&quot;^15logseq____&quot;,[133,logseq____&quot;^Ulogseq____&quot;,33,536870929]],[logseq____&quot;^15logseq____&quot;,[133,logseq____&quot;^Ulogseq____&quot;,48,536870929]],[logseq____&quot;^15logseq____&quot;,[133,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-2c19-40b9-8f1a-741d342f4160logseq____&quot;,536870929]],[logseq____&quot;^15logseq____&quot;,[134,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;Which page to modify.(An unique ID, See [[block]]  and [[relfilelocator]] )\\nlogseq.order-list-type:: numberlogseq____&quot;,536870929]],[logseq____&quot;^15logseq____&quot;,[134,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870929]],[logseq____&quot;^15logseq____&quot;,[134,logseq____&quot;^Flogseq____&quot;,127,536870929]],[logseq____&quot;^15logseq____&quot;,[134,logseq____&quot;^Xlogseq____&quot;,33,536870929]],[logseq____&quot;^15logseq____&quot;,[134,logseq____&quot;^Vlogseq____&quot;,127,536870929]],[logseq____&quot;^15logseq____&quot;,[134,logseq____&quot;^Ulogseq____&quot;,33,536870929]],[logseq____&quot;^15logseq____&quot;,[134,logseq____&quot;^Ulogseq____&quot;,40,536870929]],[logseq____&quot;^15logseq____&quot;,[134,logseq____&quot;^Ulogseq____&quot;,48,536870929]],[logseq____&quot;^15logseq____&quot;,[134,logseq____&quot;^Ulogseq____&quot;,73,536870929]],[logseq____&quot;^15logseq____&quot;,[134,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;numberlogseq____&quot;],536870929]],[logseq____&quot;^15logseq____&quot;,[134,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870929]],[logseq____&quot;^15logseq____&quot;,[134,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;numberlogseq____&quot;],536870929]],[logseq____&quot;^15logseq____&quot;,[134,logseq____&quot;^Hlogseq____&quot;,40,536870929]],[logseq____&quot;^15logseq____&quot;,[134,logseq____&quot;^Hlogseq____&quot;,73,536870929]],[logseq____&quot;^15logseq____&quot;,[134,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-c049-44d8-9fbb-2d20b99841f5logseq____&quot;,536870929]],[logseq____&quot;^15logseq____&quot;,[135,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;high level glance\\nid:: 65831e78-968c-418d-a401-f9a4afdd1587logseq____&quot;,536870929]],[logseq____&quot;^15logseq____&quot;,[135,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870929]],[logseq____&quot;^15logseq____&quot;,[135,logseq____&quot;^Flogseq____&quot;,139,536870929]],[logseq____&quot;^15logseq____&quot;,[135,logseq____&quot;^Xlogseq____&quot;,33,536870929]],[logseq____&quot;^15logseq____&quot;,[135,logseq____&quot;^Vlogseq____&quot;,139,536870929]],[logseq____&quot;^15logseq____&quot;,[135,logseq____&quot;^Ulogseq____&quot;,33,536870929]],[logseq____&quot;^15logseq____&quot;,[135,logseq____&quot;^Ulogseq____&quot;,48,536870929]],[logseq____&quot;^15logseq____&quot;,[135,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^18logseq____&quot;,logseq____&quot;65831e78-968c-418d-a401-f9a4afdd1587logseq____&quot;],536870929]],[logseq____&quot;^15logseq____&quot;,[135,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^18logseq____&quot;],536870929]],[logseq____&quot;^15logseq____&quot;,[135,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^18logseq____&quot;,logseq____&quot;65831e78-968c-418d-a401-f9a4afdd1587logseq____&quot;],536870929]],[logseq____&quot;^15logseq____&quot;,[135,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u65831e78-968c-418d-a401-f9a4afdd1587logseq____&quot;,536870929]],[logseq____&quot;^15logseq____&quot;,[136,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;See [[wal-insert]] for how the unique id is recordlogseq____&quot;,536870929]],[logseq____&quot;^15logseq____&quot;,[136,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870929]],[logseq____&quot;^15logseq____&quot;,[136,logseq____&quot;^Flogseq____&quot;,131,536870929]],[logseq____&quot;^15logseq____&quot;,[136,logseq____&quot;^Xlogseq____&quot;,33,536870929]],[logseq____&quot;^15logseq____&quot;,[136,logseq____&quot;^Vlogseq____&quot;,139,536870929]],[logseq____&quot;^15logseq____&quot;,[136,logseq____&quot;^Ulogseq____&quot;,27,536870929]],[logseq____&quot;^15logseq____&quot;,[136,logseq____&quot;^Ulogseq____&quot;,33,536870929]],[logseq____&quot;^15logseq____&quot;,[136,logseq____&quot;^Ulogseq____&quot;,48,536870929]],[logseq____&quot;^15logseq____&quot;,[136,logseq____&quot;^Hlogseq____&quot;,27,536870929]],[logseq____&quot;^15logseq____&quot;,[136,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-c63a-406a-bde1-fb032d36729dlogseq____&quot;,536870929]],[logseq____&quot;^15logseq____&quot;,[137,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;For heap pages: The three below attributes can specify a concrete pagelogseq____&quot;,536870929]],[logseq____&quot;^15logseq____&quot;,[137,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870929]],[logseq____&quot;^15logseq____&quot;,[137,logseq____&quot;^Flogseq____&quot;,131,536870929]],[logseq____&quot;^15logseq____&quot;,[137,logseq____&quot;^Xlogseq____&quot;,33,536870929]],[logseq____&quot;^15logseq____&quot;,[137,logseq____&quot;^Vlogseq____&quot;,131,536870929]],[logseq____&quot;^15logseq____&quot;,[137,logseq____&quot;^Ulogseq____&quot;,33,536870929]],[logseq____&quot;^15logseq____&quot;,[137,logseq____&quot;^Ulogseq____&quot;,48,536870929]],[logseq____&quot;^15logseq____&quot;,[137,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-00f4-4613-8c7c-fc0b6e5518d6logseq____&quot;,536870929]],[logseq____&quot;^15logseq____&quot;,[138,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`forknumber`: type -- that is #vm, #fsm or main datalogseq____&quot;,536870929]],[logseq____&quot;^15logseq____&quot;,[138,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870929]],[logseq____&quot;^15logseq____&quot;,[138,logseq____&quot;^Flogseq____&quot;,128,536870929]],[logseq____&quot;^15logseq____&quot;,[138,logseq____&quot;^Xlogseq____&quot;,33,536870929]],[logseq____&quot;^15logseq____&quot;,[138,logseq____&quot;^Vlogseq____&quot;,131,536870929]],[logseq____&quot;^15logseq____&quot;,[138,logseq____&quot;^Ulogseq____&quot;,33,536870929]],[logseq____&quot;^15logseq____&quot;,[138,logseq____&quot;^Ulogseq____&quot;,48,536870929]],[logseq____&quot;^15logseq____&quot;,[138,logseq____&quot;^Ulogseq____&quot;,125,536870929]],[logseq____&quot;^15logseq____&quot;,[138,logseq____&quot;^Ulogseq____&quot;,126,536870929]],[logseq____&quot;^15logseq____&quot;,[138,logseq____&quot;^Hlogseq____&quot;,125,536870929]],[logseq____&quot;^15logseq____&quot;,[138,logseq____&quot;^Hlogseq____&quot;,126,536870929]],[logseq____&quot;^15logseq____&quot;,[138,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-ab2e-4c9f-bc15-234aeaa72b94logseq____&quot;,536870929]],[logseq____&quot;^15logseq____&quot;,[139,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;# wal record #wallogseq____&quot;,536870929]],[logseq____&quot;^15logseq____&quot;,[139,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870929]],[logseq____&quot;^15logseq____&quot;,[139,logseq____&quot;^Flogseq____&quot;,33,536870929]],[logseq____&quot;^15logseq____&quot;,[139,logseq____&quot;^Xlogseq____&quot;,33,536870929]],[logseq____&quot;^15logseq____&quot;,[139,logseq____&quot;^Vlogseq____&quot;,33,536870929]],[logseq____&quot;^15logseq____&quot;,[139,logseq____&quot;^Ulogseq____&quot;,33,536870929]],[logseq____&quot;^15logseq____&quot;,[139,logseq____&quot;^Ulogseq____&quot;,48,536870929]],[logseq____&quot;^15logseq____&quot;,[139,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^17logseq____&quot;,1],536870929]],[logseq____&quot;^15logseq____&quot;,[139,logseq____&quot;^Jlogseq____&quot;,[],536870929]],[logseq____&quot;^15logseq____&quot;,[139,logseq____&quot;^Hlogseq____&quot;,48,536870929]],[logseq____&quot;^15logseq____&quot;,[139,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u658456b4-e61f-42e1-aac4-f4f4ccd94415logseq____&quot;,536870929]]]]]]"</script>
 <script>window.logseq_state="{:ui/theme \"light\", :ui/radix-color :blue, :config {\"local\" {:shortcuts {}, :default-templates {:journals \"\"}, :query/views {:pprint (fn [r] [:pre.code (pprint r)])}, :editor/preferred-pasting-file? false, :macros {}, :shortcut/doc-mode-enter-for-new-block? false, :favorites [\"multixact\" \"wal-structure\"], :ui/show-empty-bullets? false, :file/name-format :triple-lowbar, :preferred-workflow :now, :publishing/all-pages-public? true, :ui/show-brackets? false, :ref/default-open-blocks-level 2, :feature/enable-block-timestamps? false, :start-of-week 6, :ref/linked-references-collapsed-threshold 50, :outliner/block-title-collapse-enabled? false, :commands [], :ui/show-full-blocks? false, :export/bullet-indentation :two-spaces, :meta/version 1, :hidden [], :default-queries {:journals [{:title \"🔨 NOW\", :query [:find (pull ?h [*]) :in $ ?start ?today :where [?h :block/marker ?marker] [(contains? #{\"NOW\" \"DOING\"} ?marker)] [?h :block/page ?p] [?p :block/journal? true] [?p :block/journal-day ?d] [(>= ?d ?start)] [(<= ?d ?today)]], :inputs [:14d :today], :result-transform (fn [result] (sort-by (fn [h] (get h :block/priority \"Z\")) result)), :group-by-page? false, :collapsed? false} {:title \"📅 NEXT\", :query [:find (pull ?h [*]) :in $ ?start ?next :where [?h :block/marker ?marker] [(contains? #{\"NOW\" \"LATER\" \"TODO\"} ?marker)] [?h :block/page ?p] [?p :block/journal? true] [?p :block/journal-day ?d] [(> ?d ?start)] [(< ?d ?next)]], :inputs [:today :7d-after], :group-by-page? false, :collapsed? false}]}, :ui/auto-expand-block-refs? false, :ui/enable-tooltip? true, :query/result-transforms {:sort-by-priority (fn [result] (sort-by (fn [h] (get h :block/priority \"Z\")) result))}, :property-pages/enabled? true, :block/content-max-length 10000, :ui/show-command-doc? true, :feature/enable-search-remove-accents? true}}}"</script>
 <script type="text/javascript">// Single Page Apps for GitHub Pages
      // https://github.com/rafgraph/spa-github-pages
      // Copyright (c) 2016 Rafael Pedicini, licensed under the MIT License
      // ----------------------------------------------------------------------
      // This script checks to see if a redirect is present in the query string
      // and converts it back into the correct url and adds it to the
      // browser's history using window.history.replaceState(...),
      // which won't cause the browser to attempt to load the new url.
      // When the single page app is loaded further down in this file,
      // the correct url will be waiting in the browser's history for
      // the single page app to route accordingly.
      (function(l) {
        if (l.search) {
          var q = {};
          l.search.slice(1).split('&').forEach(function(v) {
            var a = v.split('=');
            q[a[0]] = a.slice(1).join('=').replace(/~and~/g, '&');
          });
          if (q.p !== undefined) {
            window.history.replaceState(null, null,
              l.pathname.slice(0, -1) + (q.p || '') +
              (q.q ? ('?' + q.q) : '') +
              l.hash
            );
          }
        }
      }(window.location))</script>
 <script src="static/js/main.js"></script>
 <script src="static/js/interact.min.js"></script>
 <script src="static/js/highlight.min.js"></script>
 <script src="static/js/katex.min.js"></script>
 <script src="static/js/html2canvas.min.js"></script>
 <script src="static/js/code-editor.js"></script>
 <script src="static/js/custom.js"></script>
</body>
